(()=>{"use strict";const e=(()=>{const e=JSON.parse(localStorage.getItem("projectList"))||["Personal"];console.log(e);const o=(t,o,d)=>{const c=document.getElementById("project");c.innerHTML="",e.forEach((e=>{const t=document.createElement("option");t.setAttribute("value",e),t.classList.add("project-option"),t.textContent=e,c.appendChild(t)}))},d=(t,o,d)=>{const n=document.querySelector(".project-container");n.innerHTML="",e.forEach((e=>{const t=document.createElement("h2");t.classList.add("project-name");const o=document.createElement("span");o.classList.add("material-symbols-rounded","edit"),o.textContent="edit",o.addEventListener("click",(()=>{c("Edit Project Name","edit project",e)})),t.textContent=e,n.appendChild(t),t.appendChild(o)}))},c=(e,o,d)=>{document.querySelector("#name").value=d,t.showForm(e,o,d)};return d(),{createProject:t=>{e.push(t),localStorage.setItem("projectList",JSON.stringify(e)),o(),d()},projectList:e,updateProject:(t,c)=>{console.log(t,c);let n=e.indexOf(t);e[n]=c,localStorage.setItem("projectList",JSON.stringify(e)),d(),o()}}})(),t=(()=>{const t=document.querySelector(".add-todo"),d=document.querySelector(".add-project"),c=document.querySelector("#form-message"),n=document.querySelector(".form-container"),r=document.querySelector(".project-container"),s=document.querySelector(".date"),a=document.querySelector(".priority"),l=document.querySelector(".project-select"),i=document.querySelector(".submit-btn"),u=(u,p,L)=>{t.classList.add("hidden"),d.classList.add("hidden"),r.classList.add("hidden"),c.textContent=u,n.classList.remove("hidden"),"todo"===p&&(s.classList.remove("hidden"),a.classList.remove("hidden"),l.classList.remove("hidden"),i.textContent="Add New Todo",i.addEventListener("click",(e=>{e.preventDefault(),o(document.querySelector("#name").value,document.querySelector("#date").value,document.querySelector("#priority").value,document.querySelector("#project").value),m("todo")}),{once:!0})),"project"===p&&(s.classList.add("hidden"),a.classList.add("hidden"),l.classList.add("hidden"),i.textContent="Add New Project",i.addEventListener("click",(t=>{t.preventDefault(),e.createProject(document.querySelector("#name").value),m()}),{once:!0})),"edit project"===p&&(s.classList.add("hidden"),a.classList.add("hidden"),l.classList.add("hidden"),i.textContent="Update",i.addEventListener("click",(t=>{t.preventDefault(),e.updateProject(L,document.querySelector("#name").value),m()}),{once:!0}))},m=()=>{t.classList.remove("hidden"),d.classList.remove("hidden"),c.textContent="",n.classList.add("hidden"),r.classList.remove("hidden"),document.querySelector("#priority").selectedIndex=0,document.querySelector("#project").selectedIndex=0;let e=document.querySelectorAll("input");for(let t=0;t<e.length;t++)e[t].value=""};return t.addEventListener("click",(()=>{u("Add To-do","todo")})),d.addEventListener("click",(()=>{u("Create Project","project")})),{showForm:u,hideForm:m}})(),o=(e,t,o,c)=>{let n=[],r={name:e,date:t,priority:o,projectName:c};return n.push(r),console.log(n[0]),d(r),n},d=t=>{e.projectList.forEach((e=>{t.projectName===e&&console.log(e,t.name)}))}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bkIsRUFsRnlCLEdBb0ZwQkQsRUFBYSxDQUFDN0MsRUFBTXVDLEVBQU1DLEVBQVVyQixLQUN4QyxJQUFJa0MsRUFBUSxHQUNSQyxFQUFPLENBQUN0RCxPQUFNdUMsT0FBTUMsV0FBVXJCLGVBS2xDLE9BSkFrQyxFQUFNekIsS0FBSzBCLEdBQ1h6RCxRQUFRQyxJQUFJdUQsRUFBTSxJQUNsQkUsRUFBZ0JELEdBRVRELENBQUssRUFHUkUsRUFBbUJELElBQ3ZCL0QsRUFBYUMsWUFBWWUsU0FBU0MsSUFDNUI4QyxFQUFLbkMsY0FBZ0JYLEdBQ3ZCWCxRQUFRQyxJQUFJVSxFQUFHOEMsRUFBS3RELEtBQ3RCLEdBQ0QsQyIsInNvdXJjZXMiOlsid2VicGFjazovL3RvLWRvcy8uL3NyYy9wcm9qZWN0cy5qcyIsIndlYnBhY2s6Ly90by1kb3MvLi9zcmMvYnRuLWFjdGlvbnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYnRuQWN0aW9ucyB9IGZyb20gXCIuL2J0bi1hY3Rpb25zXCI7XG5cbmV4cG9ydCBjb25zdCBwcm9qZWN0U3R1ZmYgPSAoKCkgPT4ge1xuICAvLyBsb2NhbFN0b3JhZ2UuY2xlYXIoKTtcbiAgY29uc3QgcHJvamVjdExpc3QgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwicHJvamVjdExpc3RcIikpIHx8IFsnUGVyc29uYWwnXTtcbiAgXG4gIGNvbnNvbGUubG9nKHByb2plY3RMaXN0KVxuICBcbiAgXG4gIC8vYWRkIHByb2plY3QgdG8gZHJvcC1kb3duXG4gIGNvbnN0IHBvcHVsYXRlUHJvamVjdERyb3BEb3duID0gKG5hbWUsIHR5cGUsIGluZGV4KSA9PiB7XG4gICAgY29uc3QgcHJvamVjdFNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0Jyk7XG4gICAgcHJvamVjdFNlbGVjdC5pbm5lckhUTUwgPSBcIlwiO1xuICAgIHByb2plY3RMaXN0LmZvckVhY2goKGUpID0+IHtcbiAgICAgIGNvbnN0IHByb2plY3RPcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgIHByb2plY3RPcHRpb24uc2V0QXR0cmlidXRlKCd2YWx1ZScsIGUpO1xuICAgICAgcHJvamVjdE9wdGlvbi5jbGFzc0xpc3QuYWRkKCdwcm9qZWN0LW9wdGlvbicpO1xuICAgICAgcHJvamVjdE9wdGlvbi50ZXh0Q29udGVudCA9IGU7XG4gICAgICBwcm9qZWN0U2VsZWN0LmFwcGVuZENoaWxkKHByb2plY3RPcHRpb24pO1xuICAgIH0pO1xuXG4gICAgLy8gaWYgKHR5cGUgPT09ICduZXcnKSB7XG4gICAgLy8gY29uc3QgcHJvamVjdE9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgIC8vIHByb2plY3RPcHRpb24uc2V0QXR0cmlidXRlKCd2YWx1ZScsIG5hbWUpO1xuICAgIC8vIHByb2plY3RPcHRpb24uY2xhc3NMaXN0LmFkZCgncHJvamVjdC1vcHRpb24nKTtcbiAgICAvLyBwcm9qZWN0T3B0aW9uLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICAvLyBwcm9qZWN0U2VsZWN0LmFwcGVuZENoaWxkKHByb2plY3RPcHRpb24pO1xuICAgIC8vIH1cbiAgICAvLyBpZiAodHlwZSA9PT0gJ2VkaXQnKSB7XG4gICAgLy8gICBjb25zdCBwcm9qZWN0T3B0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnByb2plY3Qtb3B0aW9uJyk7XG4gICAgLy8gICBwcm9qZWN0T3B0aW9uW2luZGV4XS50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgLy8gICBwcm9qZWN0T3B0aW9uW2luZGV4XS5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgbmFtZSk7XG4gICAgLy8gfVxuICB9XG5cbiAgLy9zaG93IHByb2plY3QgbmFtZSBvbiBwYWdlXG4gIGNvbnN0IGRpc3BsYXlQcm9qZWN0ID0gKG5hbWUsIHR5cGUsIGluZGV4KSA9PiB7XG4gICAgY29uc3QgcHJvamVjdENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0LWNvbnRhaW5lcicpO1xuICAgIHByb2plY3RDb250YWluZXIuaW5uZXJIVE1MID0gXCJcIjtcbiAgICBwcm9qZWN0TGlzdC5mb3JFYWNoKChlKSA9PiB7XG4gICAgICBjb25zdCBwcm9qZWN0TmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gyJyk7XG4gICAgICBwcm9qZWN0TmFtZS5jbGFzc0xpc3QuYWRkKCdwcm9qZWN0LW5hbWUnKTtcbiAgICAgIGNvbnN0IGVkaXRJY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgZWRpdEljb24uY2xhc3NMaXN0LmFkZCAoJ21hdGVyaWFsLXN5bWJvbHMtcm91bmRlZCcsICdlZGl0Jyk7XG4gICAgICBlZGl0SWNvbi50ZXh0Q29udGVudCA9ICdlZGl0JztcbiAgICAgIGVkaXRJY29uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBlZGl0QWN0aW9uKGBFZGl0IFByb2plY3QgTmFtZWAsICdlZGl0IHByb2plY3QnLCBlKVxuICAgICAgfSk7XG4gICAgICBwcm9qZWN0TmFtZS50ZXh0Q29udGVudCA9IGU7XG4gICAgICBwcm9qZWN0Q29udGFpbmVyLmFwcGVuZENoaWxkKHByb2plY3ROYW1lKTtcbiAgICAgIHByb2plY3ROYW1lLmFwcGVuZENoaWxkKGVkaXRJY29uKTtcbiAgICB9KVxuXG4gICAgLy8gaWYgKHR5cGUgPT09IFwibmV3XCIpIHtcbiAgICAvLyAgIGNvbnN0IHByb2plY3ROYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDInKTtcbiAgICAvLyAgIHByb2plY3ROYW1lLmNsYXNzTGlzdC5hZGQoJ3Byb2plY3QtbmFtZScpO1xuICAgIC8vICAgY29uc3QgZWRpdEljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgLy8gICBlZGl0SWNvbi5jbGFzc0xpc3QuYWRkICgnbWF0ZXJpYWwtc3ltYm9scy1yb3VuZGVkJywgJ2VkaXQnKTtcbiAgICAvLyAgIGVkaXRJY29uLnRleHRDb250ZW50ID0gJ2VkaXQnO1xuICAgIC8vICAgZWRpdEljb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgLy8gICAgIGVkaXRBY3Rpb24oYEVkaXQgUHJvamVjdCBOYW1lYCwgJ2VkaXQgcHJvamVjdCcsIG5hbWUpXG4gICAgLy8gICB9KTtcbiAgICAvLyAgIHByb2plY3ROYW1lLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICAvLyAgIHByb2plY3RDb250YWluZXIuYXBwZW5kQ2hpbGQocHJvamVjdE5hbWUpO1xuICAgIC8vICAgcHJvamVjdE5hbWUuYXBwZW5kQ2hpbGQoZWRpdEljb24pO1xuICAgIC8vIH1cbiAgICAvLyBpZiAodHlwZSA9PT0gXCJlZGl0XCIpIHtcbiAgICAvLyAgIGNvbnN0IHByb2plY3ROYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnByb2plY3QtbmFtZScpO1xuICAgIC8vICAgcHJvamVjdE5hbWVbaW5kZXhdLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICAvLyAgIGNvbnN0IGVkaXRJY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgIC8vICAgZWRpdEljb24uY2xhc3NMaXN0LmFkZCAoJ21hdGVyaWFsLXN5bWJvbHMtcm91bmRlZCcsICdlZGl0Jyk7XG4gICAgLy8gICBlZGl0SWNvbi50ZXh0Q29udGVudCA9ICdlZGl0JztcbiAgICAvLyAgIGVkaXRJY29uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIC8vICAgICBlZGl0QWN0aW9uKGBFZGl0IFByb2plY3QgTmFtZWAsICdlZGl0IHByb2plY3QnLCBuYW1lKVxuICAgIC8vICAgfSk7XG4gICAgLy8gICBwcm9qZWN0TmFtZVtpbmRleF0uYXBwZW5kQ2hpbGQoZWRpdEljb24pO1xuICAgIC8vIH1cbiAgfVxuXG4gIGNvbnN0IGVkaXRBY3Rpb24gPSAobXNnLCB0eXBlLCBuYW1lKSA9PiB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI25hbWUnKS52YWx1ZSA9IG5hbWU7XG4gICAgYnRuQWN0aW9ucy5zaG93Rm9ybShtc2csIHR5cGUsIG5hbWUpO1xuICB9XG5cbiAgLy8gY29uc3QgZGlzcGxheU5lc3RlZFRvZG9zID0gKHByb2plY3ROYW1lLCB0b2RvKSA9PiB7XG4gIC8vICAgY29uc3QgbmV3VG9kbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgLy8gICBuZXdUb2RvLnRleHRDb250ZW50ID0gdG9kbztcbiAgLy8gICBwcm9qZWN0TmFtZS5hcHBlbmRDaGlsZCh0b2RvKTtcbiAgLy8gfVxuXG4gIC8vcHJvamVjdCBmYWN0b3J5IGZ1bmN0aW9uXG4gIGNvbnN0IGNyZWF0ZVByb2plY3QgPSAobmFtZSkgPT4ge1xuICAgIHByb2plY3RMaXN0LnB1c2gobmFtZSk7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJwcm9qZWN0TGlzdFwiLCBKU09OLnN0cmluZ2lmeShwcm9qZWN0TGlzdCkpO1xuXG4gICAgcG9wdWxhdGVQcm9qZWN0RHJvcERvd24obmFtZSwgJ25ldycpO1xuICAgIGRpc3BsYXlQcm9qZWN0KG5hbWUsICduZXcnKTtcblxuICB9XG5cbiAgY29uc3QgdXBkYXRlUHJvamVjdCA9IChjdXJyZW50TmFtZSwgbmV3TmFtZSkgPT4ge1xuICAgIGNvbnNvbGUubG9nKGN1cnJlbnROYW1lLCBuZXdOYW1lKTtcbiAgICBsZXQgaW5kZXggPSBwcm9qZWN0TGlzdC5pbmRleE9mKGN1cnJlbnROYW1lKTtcbiAgICBwcm9qZWN0TGlzdFtpbmRleF0gPSBuZXdOYW1lO1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwicHJvamVjdExpc3RcIiwgSlNPTi5zdHJpbmdpZnkocHJvamVjdExpc3QpKTtcbiAgICBkaXNwbGF5UHJvamVjdChuZXdOYW1lLCAnZWRpdCcsIGluZGV4KTtcbiAgICBwb3B1bGF0ZVByb2plY3REcm9wRG93bihuZXdOYW1lLCAnZWRpdCcsIGluZGV4KTtcbiAgfVxuXG4gIC8vIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInByb2plY3RMaXN0XCIpKSB7XG4gICAgLy8gcHJvamVjdExpc3QubWFwKChwcm9qZWN0TGlzdCkgPT4ge1xuICAgICAgZGlzcGxheVByb2plY3QocHJvamVjdExpc3QpO1xuICAgIC8vIH0pO1xuICAvLyB9IFxuICBcbiAgcmV0dXJuIHtjcmVhdGVQcm9qZWN0LCBwcm9qZWN0TGlzdCwgdXBkYXRlUHJvamVjdH1cbn0pKCk7IiwiaW1wb3J0IHsgcHJvamVjdFN0dWZmIH0gZnJvbSBcIi4vcHJvamVjdHNcIjtcblxuZXhwb3J0IGNvbnN0IGJ0bkFjdGlvbnMgPSAoKCkgPT4ge1xuICBjb25zdCB0b2RvQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFkZC10b2RvJyk7XG4gIGNvbnN0IHByb2plY3RCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWRkLXByb2plY3QnKTtcbiAgY29uc3QgZm9ybU1lc3NhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZm9ybS1tZXNzYWdlJyk7XG4gIGNvbnN0IGZvcm1Db250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9ybS1jb250YWluZXInKTtcbiAgY29uc3QgcHJvamVjdENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0LWNvbnRhaW5lcicpO1xuICBcbiAgY29uc3QgZGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kYXRlJyk7XG4gIGNvbnN0IHByaW9yaXR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByaW9yaXR5Jyk7XG4gIGNvbnN0IHByb2plY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdC1zZWxlY3QnKTtcbiAgY29uc3Qgc3VibWl0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN1Ym1pdC1idG4nKTtcblxuICBjb25zdCBzaG93Rm9ybSA9IChtc2csIHR5cGUsIGN1cnJlbnROYW1lKSA9PiB7XG4gICAgdG9kb0J0bi5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICBwcm9qZWN0QnRuLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIHByb2plY3RDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgZm9ybU1lc3NhZ2UudGV4dENvbnRlbnQgPSBtc2c7XG4gICAgZm9ybUNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICBpZiAodHlwZSA9PT0gJ3RvZG8nKSB7XG4gICAgICBkYXRlLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgcHJpb3JpdHkuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBwcm9qZWN0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgc3VibWl0QnRuLnRleHRDb250ZW50ID0gXCJBZGQgTmV3IFRvZG9cIjtcbiAgICAgICAvL3N1Ym1pdCB0b2RvIGZvcm0gYW5kIGNsZWFyIGZpZWxkc1xuICAgICAgc3VibWl0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjcmVhdGVUb2RvKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNuYW1lJykudmFsdWUsIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkYXRlJykudmFsdWUsIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwcmlvcml0eScpLnZhbHVlLCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJvamVjdCcpLnZhbHVlKTtcbiAgICAgICAgaGlkZUZvcm0oJ3RvZG8nKTtcbiAgICAgIH0sIHtvbmNlOiB0cnVlfSlcbiAgICB9IGlmICh0eXBlID09PSAncHJvamVjdCcpIHtcbiAgICAgIGRhdGUuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBwcmlvcml0eS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIHByb2plY3QuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBzdWJtaXRCdG4udGV4dENvbnRlbnQgPSBcIkFkZCBOZXcgUHJvamVjdFwiO1xuICAgICAgc3VibWl0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBwcm9qZWN0U3R1ZmYuY3JlYXRlUHJvamVjdChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbmFtZScpLnZhbHVlKTtcbiAgICAgICAgaGlkZUZvcm0oKTtcbiAgICAgIH0sIHtvbmNlOiB0cnVlfSk7XG4gICAgfSBpZiAodHlwZSA9PT0gJ2VkaXQgcHJvamVjdCcpIHtcbiAgICAgIGRhdGUuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBwcmlvcml0eS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIHByb2plY3QuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBzdWJtaXRCdG4udGV4dENvbnRlbnQgPSBcIlVwZGF0ZVwiO1xuICAgICAgc3VibWl0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBwcm9qZWN0U3R1ZmYudXBkYXRlUHJvamVjdChjdXJyZW50TmFtZSwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI25hbWUnKS52YWx1ZSk7XG4gICAgICAgIGhpZGVGb3JtKCk7XG4gICAgICB9LCB7b25jZTogdHJ1ZX0pO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGhpZGVGb3JtID0gKCkgPT4ge1xuICAgIHRvZG9CdG4uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgcHJvamVjdEJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICBmb3JtTWVzc2FnZS50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgZm9ybUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICBwcm9qZWN0Q29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgIC8vcmVzZXQgcHJpb3JpdHkgYW5kIHByb2plY3RcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJpb3JpdHknKS5zZWxlY3RlZEluZGV4ID0gMDtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJvamVjdCcpLnNlbGVjdGVkSW5kZXggPSAwO1xuICAgIC8vcmVzZXQgaW5wdXRzXG4gICAgbGV0IGlucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0Jyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnB1dHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlucHV0c1tpXS52YWx1ZSA9IFwiXCI7XG4gICAgfVxuICB9XG5cbiAgLy9hZGQgdG9kbyBidXR0b24gc2hvdyBmb3JtXG4gIHRvZG9CdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgc2hvd0Zvcm0oJ0FkZCBUby1kbycsICd0b2RvJyk7XG4gIH0pO1xuXG4gIC8vY3JlYXRlIHByb2plY3QgYnV0dG9uIHNob3cgZm9ybVxuICBwcm9qZWN0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHNob3dGb3JtKCdDcmVhdGUgUHJvamVjdCcsICdwcm9qZWN0Jyk7XG4gIH0pXG5cbiBcblxuICByZXR1cm4ge3Nob3dGb3JtLCBoaWRlRm9ybX1cblxufSkoKTtcblxuY29uc3QgY3JlYXRlVG9kbyA9IChuYW1lLCBkYXRlLCBwcmlvcml0eSwgcHJvamVjdE5hbWUpID0+IHtcbiAgbGV0IHRvZG9zID0gW107XG4gIGxldCB0b2RvID0ge25hbWUsIGRhdGUsIHByaW9yaXR5LCBwcm9qZWN0TmFtZX07XG4gIHRvZG9zLnB1c2godG9kbyk7XG4gIGNvbnNvbGUubG9nKHRvZG9zWzBdKTtcbiAgYXR0YWNoVG9Qcm9qZWN0KHRvZG8pO1xuXG4gIHJldHVybiB0b2Rvcztcbn1cblxuY29uc3QgYXR0YWNoVG9Qcm9qZWN0ID0gKHRvZG8pID0+IHtcbiAgcHJvamVjdFN0dWZmLnByb2plY3RMaXN0LmZvckVhY2goKGUpID0+IHtcbiAgICBpZiAodG9kby5wcm9qZWN0TmFtZSA9PT0gZSkge1xuICAgICAgY29uc29sZS5sb2coZSwgdG9kby5uYW1lKTtcbiAgICB9XG4gIH0pXG4gIFxufSJdLCJuYW1lcyI6WyJwcm9qZWN0U3R1ZmYiLCJwcm9qZWN0TGlzdCIsIkpTT04iLCJwYXJzZSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJjb25zb2xlIiwibG9nIiwicG9wdWxhdGVQcm9qZWN0RHJvcERvd24iLCJuYW1lIiwidHlwZSIsImluZGV4IiwicHJvamVjdFNlbGVjdCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJpbm5lckhUTUwiLCJmb3JFYWNoIiwiZSIsInByb2plY3RPcHRpb24iLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwiY2xhc3NMaXN0IiwiYWRkIiwidGV4dENvbnRlbnQiLCJhcHBlbmRDaGlsZCIsImRpc3BsYXlQcm9qZWN0IiwicHJvamVjdENvbnRhaW5lciIsInF1ZXJ5U2VsZWN0b3IiLCJwcm9qZWN0TmFtZSIsImVkaXRJY29uIiwiYWRkRXZlbnRMaXN0ZW5lciIsImVkaXRBY3Rpb24iLCJtc2ciLCJ2YWx1ZSIsImJ0bkFjdGlvbnMiLCJzaG93Rm9ybSIsImNyZWF0ZVByb2plY3QiLCJwdXNoIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsInVwZGF0ZVByb2plY3QiLCJjdXJyZW50TmFtZSIsIm5ld05hbWUiLCJpbmRleE9mIiwidG9kb0J0biIsInByb2plY3RCdG4iLCJmb3JtTWVzc2FnZSIsImZvcm1Db250YWluZXIiLCJkYXRlIiwicHJpb3JpdHkiLCJwcm9qZWN0Iiwic3VibWl0QnRuIiwicmVtb3ZlIiwicHJldmVudERlZmF1bHQiLCJjcmVhdGVUb2RvIiwiaGlkZUZvcm0iLCJvbmNlIiwic2VsZWN0ZWRJbmRleCIsImlucHV0cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpIiwibGVuZ3RoIiwidG9kb3MiLCJ0b2RvIiwiYXR0YWNoVG9Qcm9qZWN0Il0sInNvdXJjZVJvb3QiOiIifQ==