(()=>{"use strict";const e=(()=>{const e=JSON.parse(localStorage.getItem("projectList"))||["Personal"];console.log(e);const o=()=>{const t=document.getElementById("project");t.innerHTML="",e.forEach((e=>{const o=document.createElement("option");o.setAttribute("value",e),o.classList.add("project-option"),o.textContent=e,t.appendChild(o)}))},c=()=>{const t=document.querySelector(".project-container");t.innerHTML="",e.forEach((e=>{const o=e.replace(/\s+/g,"-").toLowerCase(),c=document.createElement("div");c.className=o;const n=document.createElement("h2");n.classList.add("project-name");const r=document.createElement("span");r.classList.add("material-symbols-rounded","edit"),r.textContent="edit",r.addEventListener("click",(()=>{d("Edit Project Name","edit project",e)})),n.textContent=e,t.appendChild(c),c.appendChild(n),n.appendChild(r)}))},d=(e,o,c)=>{document.querySelector("#name").value=c,t.showForm(e,o,c)};return c(),o(),{createProject:t=>{e.push(t),localStorage.setItem("projectList",JSON.stringify(e)),o(),c()},projectList:e,updateProject:(t,d)=>{console.log(t,d);let n=e.indexOf(t);e[n]=d,localStorage.setItem("projectList",JSON.stringify(e)),c(),o()}}})(),t=(()=>{const t=document.querySelector(".add-todo"),c=document.querySelector(".add-project"),d=document.querySelector("#form-message"),n=document.querySelector(".form-container"),r=document.querySelector(".project-container"),s=document.querySelector(".date"),a=document.querySelector(".priority"),l=document.querySelector(".project-select"),i=document.querySelector(".submit-btn"),u=(u,p,L)=>{t.classList.add("hidden"),c.classList.add("hidden"),r.classList.add("hidden"),d.textContent=u,n.classList.remove("hidden"),"todo"===p&&(s.classList.remove("hidden"),a.classList.remove("hidden"),l.classList.remove("hidden"),i.textContent="Add New Todo",i.addEventListener("click",(e=>{e.preventDefault(),o.createTodo(document.querySelector("#name").value,document.querySelector("#date").value,document.querySelector("#priority").value,document.querySelector("#project").value),m("todo")}),{once:!0})),"project"===p&&(s.classList.add("hidden"),a.classList.add("hidden"),l.classList.add("hidden"),i.textContent="Add New Project",i.addEventListener("click",(t=>{t.preventDefault(),e.createProject(document.querySelector("#name").value),m()}),{once:!0})),"edit project"===p&&(s.classList.add("hidden"),a.classList.add("hidden"),l.classList.add("hidden"),i.textContent="Update",i.addEventListener("click",(t=>{t.preventDefault(),e.updateProject(L,document.querySelector("#name").value),m()}),{once:!0}))},m=()=>{t.classList.remove("hidden"),c.classList.remove("hidden"),d.textContent="",n.classList.add("hidden"),r.classList.remove("hidden"),document.querySelector("#priority").selectedIndex=0,document.querySelector("#project").selectedIndex=0;let e=document.querySelectorAll("input");for(let t=0;t<e.length;t++)e[t].value=""};return t.addEventListener("click",(()=>{u("Add To-do","todo")})),c.addEventListener("click",(()=>{u("Create Project","project")})),{showForm:u,hideForm:m}})(),o=(()=>{let t=[];const o=(t,o)=>{e.projectList.forEach((e=>{if(o===e){const o=e.replace(/\s+/g,"-").toLowerCase();console.log(o);const c=document.querySelector(`.${o}`),d=document.createElement("p");d.textContent=t.name,c.appendChild(d),console.log(e,c)}}))};return{createTodo:(e,c,d,n)=>{let r={name:e,date:c,priority:d,projectName:n};return t.push(r),o(r,n),{toDos:t}},attachToProject:o}})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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T0FBTyxJQUkvQlcsRUFBV2xCLGlCQUFpQixTQUFTLEtBQ25DTyxFQUFTLGlCQUFrQixVQUFVLElBR2hDLENBQUNBLFdBQVVzQixXQUVuQixFQWhGeUIsR0FtRnBCRixFQUFRLE1BQ1osSUFBSUEsRUFBUSxHQUNaLE1BU01TLEVBQWtCLENBQUNDLEVBQU12QyxLQUM3QjdCLEVBQWFDLFlBQVlZLFNBQVNDLElBQ2hDLEdBQUllLElBQWdCZixFQUFHLENBQ3JCLE1BQU1XLEVBQVlYLEVBQUVZLFFBQVEsT0FBUSxLQUFLQyxjQUN6Q3JCLFFBQVFDLElBQUlrQixHQUNaLE1BQU1JLEVBQWNuQixTQUFTYyxjQUFjLElBQUlDLEtBQ3pDNEMsRUFBVzNELFNBQVNNLGNBQWMsS0FDeENxRCxFQUFTakQsWUFBY2dELEVBQUtqQyxLQUU1Qk4sRUFBWVIsWUFBWWdELEdBQ3hCL0QsUUFBUUMsSUFBSU8sRUFBR2UsRUFDakIsSUFDRCxFQXFCSCxNQUFPLENBQUM4QixXQTFDVyxDQUFDeEIsRUFBTWlCLEVBQU1DLEVBQVV4QixLQUV4QyxJQUFJdUMsRUFBTyxDQUFDakMsT0FBTWlCLE9BQU1DLFdBQVV4QixlQUlsQyxPQUhBNkIsRUFBTWxCLEtBQUs0QixHQUNYRCxFQUFnQkMsRUFBTXZDLEdBRWYsQ0FBQzZCLFFBQU0sRUFvQ0lTLGtCQUNyQixFQTdDYSxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG8tZG9zLy4vc3JjL3Byb2plY3RzLmpzIiwid2VicGFjazovL3RvLWRvcy8uL3NyYy9idG4tYWN0aW9ucy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBidG5BY3Rpb25zIH0gZnJvbSBcIi4vYnRuLWFjdGlvbnNcIjtcblxuZXhwb3J0IGNvbnN0IHByb2plY3RTdHVmZiA9ICgoKSA9PiB7XG4gIC8vIGxvY2FsU3RvcmFnZS5jbGVhcigpO1xuICBjb25zdCBwcm9qZWN0TGlzdCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJwcm9qZWN0TGlzdFwiKSkgfHwgWydQZXJzb25hbCddO1xuICBcbiAgY29uc29sZS5sb2cocHJvamVjdExpc3QpXG4gIFxuICBcbiAgLy9hZGQgcHJvamVjdCB0byBkcm9wLWRvd25cbiAgY29uc3QgcG9wdWxhdGVQcm9qZWN0RHJvcERvd24gPSAoKSA9PiB7XG4gICAgY29uc3QgcHJvamVjdFNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0Jyk7XG4gICAgcHJvamVjdFNlbGVjdC5pbm5lckhUTUwgPSBcIlwiO1xuICAgIHByb2plY3RMaXN0LmZvckVhY2goKGUpID0+IHtcbiAgICAgIGNvbnN0IHByb2plY3RPcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgIHByb2plY3RPcHRpb24uc2V0QXR0cmlidXRlKCd2YWx1ZScsIGUpO1xuICAgICAgcHJvamVjdE9wdGlvbi5jbGFzc0xpc3QuYWRkKCdwcm9qZWN0LW9wdGlvbicpO1xuICAgICAgcHJvamVjdE9wdGlvbi50ZXh0Q29udGVudCA9IGU7XG4gICAgICBwcm9qZWN0U2VsZWN0LmFwcGVuZENoaWxkKHByb2plY3RPcHRpb24pO1xuICAgIH0pO1xuICB9XG5cbiAgLy9zaG93IHByb2plY3QgbmFtZSBvbiBwYWdlXG4gIGNvbnN0IGRpc3BsYXlQcm9qZWN0ID0gKCkgPT4ge1xuICAgIGNvbnN0IHByb2plY3RDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdC1jb250YWluZXInKTtcbiAgICBwcm9qZWN0Q29udGFpbmVyLmlubmVySFRNTCA9IFwiXCI7XG4gICAgcHJvamVjdExpc3QuZm9yRWFjaCgoZSkgPT4ge1xuICAgICAgY29uc3QgY2xhc3NOYW1lID0gZS5yZXBsYWNlKC9cXHMrL2csICctJykudG9Mb3dlckNhc2UoKTtcbiAgICAgIGNvbnN0IHByb2plY3REaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHByb2plY3REaXYuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuICAgICAgY29uc3QgcHJvamVjdE5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMicpO1xuICAgICAgcHJvamVjdE5hbWUuY2xhc3NMaXN0LmFkZCgncHJvamVjdC1uYW1lJyk7XG4gICAgICBjb25zdCBlZGl0SWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgIGVkaXRJY29uLmNsYXNzTGlzdC5hZGQgKCdtYXRlcmlhbC1zeW1ib2xzLXJvdW5kZWQnLCAnZWRpdCcpO1xuICAgICAgZWRpdEljb24udGV4dENvbnRlbnQgPSAnZWRpdCc7XG4gICAgICBlZGl0SWNvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgZWRpdEFjdGlvbihgRWRpdCBQcm9qZWN0IE5hbWVgLCAnZWRpdCBwcm9qZWN0JywgZSlcbiAgICAgIH0pO1xuICAgICAgcHJvamVjdE5hbWUudGV4dENvbnRlbnQgPSBlO1xuICAgICAgcHJvamVjdENvbnRhaW5lci5hcHBlbmRDaGlsZChwcm9qZWN0RGl2KTtcbiAgICAgIHByb2plY3REaXYuYXBwZW5kQ2hpbGQocHJvamVjdE5hbWUpO1xuICAgICAgcHJvamVjdE5hbWUuYXBwZW5kQ2hpbGQoZWRpdEljb24pO1xuICAgIH0pXG4gIH1cblxuICBjb25zdCBlZGl0QWN0aW9uID0gKG1zZywgdHlwZSwgbmFtZSkgPT4ge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNuYW1lJykudmFsdWUgPSBuYW1lO1xuICAgIGJ0bkFjdGlvbnMuc2hvd0Zvcm0obXNnLCB0eXBlLCBuYW1lKTtcbiAgfVxuXG4gIC8vIGNvbnN0IGRpc3BsYXlOZXN0ZWRUb2RvcyA9IChwcm9qZWN0TmFtZSwgdG9kbykgPT4ge1xuICAvLyAgIGNvbnN0IG5ld1RvZG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gIC8vICAgbmV3VG9kby50ZXh0Q29udGVudCA9IHRvZG87XG4gIC8vICAgcHJvamVjdE5hbWUuYXBwZW5kQ2hpbGQodG9kbyk7XG4gIC8vIH1cbiAgLy8gY29uc3QgY3JlYXRlUHJvamVjdEFycmF5ID0gKCkgPT4ge1xuICAvLyAgIHByb2plY3RMaXN0LmZvckVhY2goKGUpID0+IHtcbiAgLy8gICAgIGUgPSBbXTtcbiAgLy8gICAgIGNvbnNvbGUubG9nKGUpO1xuICAvLyAgIH0pXG4gIC8vIH1cblxuICAvL3Byb2plY3QgZmFjdG9yeSBmdW5jdGlvblxuICBjb25zdCBjcmVhdGVQcm9qZWN0ID0gKG5hbWUpID0+IHtcbiAgICBwcm9qZWN0TGlzdC5wdXNoKG5hbWUpO1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwicHJvamVjdExpc3RcIiwgSlNPTi5zdHJpbmdpZnkocHJvamVjdExpc3QpKTtcblxuICAgIHBvcHVsYXRlUHJvamVjdERyb3BEb3duKCk7XG4gICAgZGlzcGxheVByb2plY3QoKTtcbiAgICAvLyBjcmVhdGVQcm9qZWN0QXJyYXkoKTtcbiAgfVxuXG4gIGNvbnN0IHVwZGF0ZVByb2plY3QgPSAoY3VycmVudE5hbWUsIG5ld05hbWUpID0+IHtcbiAgICBjb25zb2xlLmxvZyhjdXJyZW50TmFtZSwgbmV3TmFtZSk7XG4gICAgbGV0IGluZGV4ID0gcHJvamVjdExpc3QuaW5kZXhPZihjdXJyZW50TmFtZSk7XG4gICAgcHJvamVjdExpc3RbaW5kZXhdID0gbmV3TmFtZTtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInByb2plY3RMaXN0XCIsIEpTT04uc3RyaW5naWZ5KHByb2plY3RMaXN0KSk7XG4gICAgZGlzcGxheVByb2plY3QoKTtcbiAgICBwb3B1bGF0ZVByb2plY3REcm9wRG93bigpO1xuICB9XG4gICAgICBcbiAgZGlzcGxheVByb2plY3QoKTtcbiAgcG9wdWxhdGVQcm9qZWN0RHJvcERvd24oKTtcbiAgXG4gIHJldHVybiB7Y3JlYXRlUHJvamVjdCwgcHJvamVjdExpc3QsIHVwZGF0ZVByb2plY3R9XG59KSgpOyIsImltcG9ydCB7IHByb2plY3RTdHVmZiB9IGZyb20gXCIuL3Byb2plY3RzXCI7XG5cbmV4cG9ydCBjb25zdCBidG5BY3Rpb25zID0gKCgpID0+IHtcbiAgY29uc3QgdG9kb0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZGQtdG9kbycpO1xuICBjb25zdCBwcm9qZWN0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFkZC1wcm9qZWN0Jyk7XG4gIGNvbnN0IGZvcm1NZXNzYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Zvcm0tbWVzc2FnZScpO1xuICBjb25zdCBmb3JtQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm0tY29udGFpbmVyJyk7XG4gIGNvbnN0IHByb2plY3RDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdC1jb250YWluZXInKTtcbiAgXG4gIGNvbnN0IGRhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZGF0ZScpO1xuICBjb25zdCBwcmlvcml0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcmlvcml0eScpO1xuICBjb25zdCBwcm9qZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3Qtc2VsZWN0Jyk7XG4gIGNvbnN0IHN1Ym1pdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zdWJtaXQtYnRuJyk7XG5cbiAgY29uc3Qgc2hvd0Zvcm0gPSAobXNnLCB0eXBlLCBjdXJyZW50TmFtZSkgPT4ge1xuICAgIHRvZG9CdG4uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgcHJvamVjdEJ0bi5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICBwcm9qZWN0Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIGZvcm1NZXNzYWdlLnRleHRDb250ZW50ID0gbXNnO1xuICAgIGZvcm1Db250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgaWYgKHR5cGUgPT09ICd0b2RvJykge1xuICAgICAgZGF0ZS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIHByaW9yaXR5LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgcHJvamVjdC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIHN1Ym1pdEJ0bi50ZXh0Q29udGVudCA9IFwiQWRkIE5ldyBUb2RvXCI7XG4gICAgICAgLy9zdWJtaXQgdG9kbyBmb3JtIGFuZCBjbGVhciBmaWVsZHNcbiAgICAgIHN1Ym1pdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdG9Eb3MuY3JlYXRlVG9kbyhkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbmFtZScpLnZhbHVlLCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZGF0ZScpLnZhbHVlLCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJpb3JpdHknKS52YWx1ZSwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Byb2plY3QnKS52YWx1ZSk7XG4gICAgICAgIGhpZGVGb3JtKCd0b2RvJyk7XG4gICAgICB9LCB7b25jZTogdHJ1ZX0pXG4gICAgfSBpZiAodHlwZSA9PT0gJ3Byb2plY3QnKSB7XG4gICAgICBkYXRlLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgcHJpb3JpdHkuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBwcm9qZWN0LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgc3VibWl0QnRuLnRleHRDb250ZW50ID0gXCJBZGQgTmV3IFByb2plY3RcIjtcbiAgICAgIHN1Ym1pdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcHJvamVjdFN0dWZmLmNyZWF0ZVByb2plY3QoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI25hbWUnKS52YWx1ZSk7XG4gICAgICAgIGhpZGVGb3JtKCk7XG4gICAgICB9LCB7b25jZTogdHJ1ZX0pO1xuICAgIH0gaWYgKHR5cGUgPT09ICdlZGl0IHByb2plY3QnKSB7XG4gICAgICBkYXRlLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgcHJpb3JpdHkuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBwcm9qZWN0LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgc3VibWl0QnRuLnRleHRDb250ZW50ID0gXCJVcGRhdGVcIjtcbiAgICAgIHN1Ym1pdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcHJvamVjdFN0dWZmLnVwZGF0ZVByb2plY3QoY3VycmVudE5hbWUsIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNuYW1lJykudmFsdWUpO1xuICAgICAgICBoaWRlRm9ybSgpO1xuICAgICAgfSwge29uY2U6IHRydWV9KTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBoaWRlRm9ybSA9ICgpID0+IHtcbiAgICB0b2RvQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgIHByb2plY3RCdG4uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgZm9ybU1lc3NhZ2UudGV4dENvbnRlbnQgPSBcIlwiO1xuICAgIGZvcm1Db250YWluZXIuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgcHJvamVjdENvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAvL3Jlc2V0IHByaW9yaXR5IGFuZCBwcm9qZWN0XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3ByaW9yaXR5Jykuc2VsZWN0ZWRJbmRleCA9IDA7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Byb2plY3QnKS5zZWxlY3RlZEluZGV4ID0gMDtcbiAgICAvL3Jlc2V0IGlucHV0c1xuICAgIGxldCBpbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dCcpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpbnB1dHNbaV0udmFsdWUgPSBcIlwiO1xuICAgIH1cbiAgfVxuXG4gIC8vYWRkIHRvZG8gYnV0dG9uIHNob3cgZm9ybVxuICB0b2RvQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHNob3dGb3JtKCdBZGQgVG8tZG8nLCAndG9kbycpO1xuICB9KTtcblxuICAvL2NyZWF0ZSBwcm9qZWN0IGJ1dHRvbiBzaG93IGZvcm1cbiAgcHJvamVjdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBzaG93Rm9ybSgnQ3JlYXRlIFByb2plY3QnLCAncHJvamVjdCcpO1xuICB9KVxuXG4gIHJldHVybiB7c2hvd0Zvcm0sIGhpZGVGb3JtfVxuXG59KSgpO1xuXG5cbmNvbnN0IHRvRG9zID0gKCgpID0+IHtcbiAgbGV0IHRvRG9zID0gW107XG4gIGNvbnN0IGNyZWF0ZVRvZG8gPSAobmFtZSwgZGF0ZSwgcHJpb3JpdHksIHByb2plY3ROYW1lKSA9PiB7XG4gICBcbiAgICBsZXQgdG9EbyA9IHtuYW1lLCBkYXRlLCBwcmlvcml0eSwgcHJvamVjdE5hbWV9O1xuICAgIHRvRG9zLnB1c2godG9Ebyk7XG4gICAgYXR0YWNoVG9Qcm9qZWN0KHRvRG8sIHByb2plY3ROYW1lKTtcblxuICAgIHJldHVybiB7dG9Eb3N9O1xuICB9XG5cbiAgY29uc3QgYXR0YWNoVG9Qcm9qZWN0ID0gKHRvRG8sIHByb2plY3ROYW1lKSA9PiB7XG4gICAgcHJvamVjdFN0dWZmLnByb2plY3RMaXN0LmZvckVhY2goKGUpID0+IHtcbiAgICAgIGlmIChwcm9qZWN0TmFtZSA9PT0gZSkge1xuICAgICAgICBjb25zdCBjbGFzc05hbWUgPSBlLnJlcGxhY2UoL1xccysvZywgJy0nKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBjb25zb2xlLmxvZyhjbGFzc05hbWUpXG4gICAgICAgIGNvbnN0IHByb2plY3ROYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7Y2xhc3NOYW1lfWApO1xuICAgICAgICBjb25zdCB0b0RvSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgICAgdG9Eb0l0ZW0udGV4dENvbnRlbnQgPSB0b0RvLm5hbWU7XG5cbiAgICAgICAgcHJvamVjdE5hbWUuYXBwZW5kQ2hpbGQodG9Eb0l0ZW0pO1xuICAgICAgICBjb25zb2xlLmxvZyhlLCBwcm9qZWN0TmFtZSlcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgLy8gY3JlYXRlVG9kby50b0Rvcy5mb3JFYWNoKCh0KSA9PiB7XG4gICAgLy8gICBwcm9qZWN0U3R1ZmYucHJvamVjdExpc3QuZm9yRWFjaCgocCkgPT4ge1xuICAgIC8vICAgICBpZiAodC5wcm9qZWN0TmFtZSA9PT0gcCkge1xuICAgIC8vICAgICAgIGNvbnNvbGUubG9nKHQsIHApXG4gICAgLy8gICAgIH1cbiAgICAvLyAgIH0pXG4gICAgICBcbiAgICAvLyB9KVxuICAgIFxuICAgIFxuICAgIC8vIHByb2plY3RTdHVmZi5wcm9qZWN0TGlzdC5mb3JFYWNoKChlKSA9PiB7XG4gICAgLy8gICBpZiAocHJvamVjdE5hbWUgPT09IGUpIHtcbiAgICAvLyAgICAgcHJvamVjdE5hbWVcbiAgICAvLyAgIC8vIHByb2plY3RBcnJheS5wdXNoKHRvZG8pO1xuICAgIC8vICAgY29uc29sZS5sb2coZSk7XG4gICAgLy8gICB9XG4gICAgLy8gfSlcbiAgfVxuICBcbiAgcmV0dXJuIHtjcmVhdGVUb2RvLCBhdHRhY2hUb1Byb2plY3R9XG59KSgpOyJdLCJuYW1lcyI6WyJwcm9qZWN0U3R1ZmYiLCJwcm9qZWN0TGlzdCIsIkpTT04iLCJwYXJzZSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJjb25zb2xlIiwibG9nIiwicG9wdWxhdGVQcm9qZWN0RHJvcERvd24iLCJwcm9qZWN0U2VsZWN0IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImlubmVySFRNTCIsImZvckVhY2giLCJlIiwicHJvamVjdE9wdGlvbiIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJjbGFzc0xpc3QiLCJhZGQiLCJ0ZXh0Q29udGVudCIsImFwcGVuZENoaWxkIiwiZGlzcGxheVByb2plY3QiLCJwcm9qZWN0Q29udGFpbmVyIiwicXVlcnlTZWxlY3RvciIsImNsYXNzTmFtZSIsInJlcGxhY2UiLCJ0b0xvd2VyQ2FzZSIsInByb2plY3REaXYiLCJwcm9qZWN0TmFtZSIsImVkaXRJY29uIiwiYWRkRXZlbnRMaXN0ZW5lciIsImVkaXRBY3Rpb24iLCJtc2ciLCJ0eXBlIiwibmFtZSIsInZhbHVlIiwiYnRuQWN0aW9ucyIsInNob3dGb3JtIiwiY3JlYXRlUHJvamVjdCIsInB1c2giLCJzZXRJdGVtIiwic3RyaW5naWZ5IiwidXBkYXRlUHJvamVjdCIsImN1cnJlbnROYW1lIiwibmV3TmFtZSIsImluZGV4IiwiaW5kZXhPZiIsInRvZG9CdG4iLCJwcm9qZWN0QnRuIiwiZm9ybU1lc3NhZ2UiLCJmb3JtQ29udGFpbmVyIiwiZGF0ZSIsInByaW9yaXR5IiwicHJvamVjdCIsInN1Ym1pdEJ0biIsInJlbW92ZSIsInByZXZlbnREZWZhdWx0IiwidG9Eb3MiLCJjcmVhdGVUb2RvIiwiaGlkZUZvcm0iLCJvbmNlIiwic2VsZWN0ZWRJbmRleCIsImlucHV0cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpIiwibGVuZ3RoIiwiYXR0YWNoVG9Qcm9qZWN0IiwidG9EbyIsInRvRG9JdGVtIl0sInNvdXJjZVJvb3QiOiIifQ==