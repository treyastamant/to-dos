(()=>{"use strict";const e=(()=>{let e=[];return{createTodo:(o,c,d,r)=>{let n={name:o,date:c,priority:d,projectName:r};return e.push(n),t.displayProject(),{toDos:e}},attachToProject:(e,o)=>{t.projectList.forEach((t=>{if(o===t){let t;t.push(e),console.log(t)}})),t.projectList.forEach((o=>{t.createProject.e.push(e),console.log(t.createProject.projectArray)}))},toDos:e}})(),t=(()=>{const t=JSON.parse(localStorage.getItem("projectList"))||["Personal"],c=()=>{const e=document.getElementById("project");e.innerHTML="",t.forEach((t=>{const o=document.createElement("option");o.setAttribute("value",t),o.classList.add("project-option"),o.textContent=t,e.appendChild(o)}))},d=()=>{const o=document.querySelector(".project-container");o.innerHTML="",t.forEach((t=>{const c=t.replace(/\s+/g,"-").toLowerCase(),d=document.createElement("div");d.className=c;const n=document.createElement("h2");n.classList.add("project-name");const s=document.createElement("span");s.classList.add("material-symbols-rounded","edit"),s.textContent="edit",s.addEventListener("click",(()=>{r("Edit Project Name","edit project",t)})),n.textContent=t,o.appendChild(d),d.appendChild(n),n.appendChild(s),e.toDos.forEach((e=>{if(e.projectName===t){const t=document.createElement("p");t.textContent=e.name,d.appendChild(t)}}))}))},r=(e,t,c)=>{document.querySelector("#name").value=c,o.showForm(e,t,c)};return d(),c(),{createProject:e=>{t.push(e),localStorage.setItem("projectList",JSON.stringify(t)),c(),d()},projectList:t,updateProject:(e,o)=>{console.log(e,o);let r=t.indexOf(e);t[r]=o,localStorage.setItem("projectList",JSON.stringify(t)),d(),c()},displayProject:d}})(),o=(()=>{const o=document.querySelector(".add-todo"),c=document.querySelector(".add-project"),d=document.querySelector("#form-message"),r=document.querySelector(".form-container"),n=document.querySelector(".project-container"),s=document.querySelector(".date"),a=document.querySelector(".priority"),l=document.querySelector(".project-select"),i=document.querySelector(".submit-btn"),u=(u,p,h)=>{o.classList.add("hidden"),c.classList.add("hidden"),n.classList.add("hidden"),d.textContent=u,r.classList.remove("hidden"),"todo"===p&&(s.classList.remove("hidden"),a.classList.remove("hidden"),l.classList.remove("hidden"),i.textContent="Add New Todo",i.addEventListener("click",(t=>{t.preventDefault(),e.createTodo(document.querySelector("#name").value,document.querySelector("#date").value,document.querySelector("#priority").value,document.querySelector("#project").value),m("todo")}),{once:!0})),"project"===p&&(s.classList.add("hidden"),a.classList.add("hidden"),l.classList.add("hidden"),i.textContent="Add New Project",i.addEventListener("click",(e=>{e.preventDefault(),t.createProject(document.querySelector("#name").value),m()}),{once:!0})),"edit project"===p&&(s.classList.add("hidden"),a.classList.add("hidden"),l.classList.add("hidden"),i.textContent="Update",i.addEventListener("click",(e=>{e.preventDefault(),t.updateProject(h,document.querySelector("#name").value),m()}),{once:!0}))},m=()=>{o.classList.remove("hidden"),c.classList.remove("hidden"),d.textContent="",r.classList.add("hidden"),n.classList.remove("hidden"),document.querySelector("#priority").selectedIndex=0,document.querySelector("#project").selectedIndex=0;let e=document.querySelectorAll("input");for(let t=0;t<e.length;t++)e[t].value=""};return o.addEventListener("click",(()=>{u("Add To-do","todo")})),c.addEventListener("click",(()=>{u("Create Project","project")})),{showForm:u,hideForm:m}})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFBSSxVQUNuQjNCLEVBQVMwQixVQUFVQyxJQUFJLFVBQ3ZCOEIsRUFBUS9CLFVBQVVDLElBQUksVUFDdEIrQixFQUFVOUIsWUFBYyxTQUN4QjhCLEVBQVVyQixpQkFBaUIsU0FBVTVCLElBQ25DQSxFQUFFbUQsaUJBQ0Z4RCxFQUFhNEMsY0FBY0MsRUFBYTdCLFNBQVNXLGNBQWMsU0FBU1ksT0FDeEVrQixHQUFVLEdBQ1QsQ0FBQ0MsTUFBTSxJQUNaLEVBR0lELEVBQVcsS0FDZlIsRUFBUTNCLFVBQVVpQyxPQUFPLFVBQ3pCTCxFQUFXNUIsVUFBVWlDLE9BQU8sVUFDNUJKLEVBQVkzQixZQUFjLEdBQzFCNEIsRUFBYzlCLFVBQVVDLElBQUksVUFDNUJHLEVBQWlCSixVQUFVaUMsT0FBTyxVQUVsQ3ZDLFNBQVNXLGNBQWMsYUFBYWdDLGNBQWdCLEVBQ3BEM0MsU0FBU1csY0FBYyxZQUFZZ0MsY0FBZ0IsRUFFbkQsSUFBSUMsRUFBUzVDLFNBQVM2QyxpQkFBaUIsU0FDdkMsSUFBSyxJQUFJQyxFQUFJLEVBQUdBLEVBQUlGLEVBQU9HLE9BQVFELElBQ2pDRixFQUFPRSxHQUFHdkIsTUFBUSxFQUNwQixFQWdCRixPQVpBVSxFQUFRaEIsaUJBQWlCLFNBQVMsS0FDaENRLEVBQVMsWUFBYSxPQUFPLElBSS9CUyxFQUFXakIsaUJBQWlCLFNBQVMsS0FDbkNRLEVBQVMsaUJBQWtCLFVBQVUsSUFNaEMsQ0FBQ0EsV0FBVWdCLFdBQ25CLEVBbEZ5QixFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG8tZG9zLy4vc3JjL3RvZG9zLmpzIiwid2VicGFjazovL3RvLWRvcy8uL3NyYy9wcm9qZWN0cy5qcyIsIndlYnBhY2s6Ly90by1kb3MvLi9zcmMvYnRuLWFjdGlvbnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcHJvamVjdFN0dWZmIH0gZnJvbSBcIi4vcHJvamVjdHNcIjtcbmltcG9ydCB7IGJ0bkFjdGlvbnMgfSBmcm9tIFwiLi9idG4tYWN0aW9uc1wiO1xuXG5leHBvcnQgY29uc3QgdG9Eb1N0dWZmID0gKCgpID0+IHtcbmxldCB0b0RvcyA9IFtdO1xuICBjb25zdCBjcmVhdGVUb2RvID0gKG5hbWUsIGRhdGUsIHByaW9yaXR5LCBwcm9qZWN0TmFtZSkgPT4ge1xuICAgXG4gICAgbGV0IHRvRG8gPSB7bmFtZSwgZGF0ZSwgcHJpb3JpdHksIHByb2plY3ROYW1lfTtcbiAgICB0b0Rvcy5wdXNoKHRvRG8pO1xuICAgIHByb2plY3RTdHVmZi5kaXNwbGF5UHJvamVjdCgpO1xuICAgIC8vIGF0dGFjaFRvUHJvamVjdCh0b0RvLCBwcm9qZWN0TmFtZSk7XG5cbiAgICByZXR1cm4ge3RvRG9zfTtcbiAgfVxuXG4gIGNvbnN0IGF0dGFjaFRvUHJvamVjdCA9ICh0b0RvLCBwcm9qZWN0TmFtZSkgPT4ge1xuICAgIHByb2plY3RTdHVmZi5wcm9qZWN0TGlzdC5mb3JFYWNoKChlKSA9PiB7XG4gICAgICBpZiAocHJvamVjdE5hbWUgPT09IGUpIHtcbiAgICAgICAgbGV0IHByb2plY3RBcnJheTtcbiAgICAgICAgcHJvamVjdEFycmF5LnB1c2godG9Ebyk7XG4gICAgICAgIGNvbnNvbGUubG9nKHByb2plY3RBcnJheSk7XG4gICAgICAgIC8vIGNvbnN0IGNsYXNzTmFtZSA9IGUucmVwbGFjZSgvXFxzKy9nLCAnLScpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGNsYXNzTmFtZSlcbiAgICAgICAgLy8gY29uc3QgcHJvamVjdE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtjbGFzc05hbWV9YCk7XG4gICAgICAgIC8vIGNvbnN0IHRvRG9JdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgICAgICAvLyB0b0RvSXRlbS50ZXh0Q29udGVudCA9IHRvRG8ubmFtZTtcblxuICAgICAgICAvLyBwcm9qZWN0TmFtZS5hcHBlbmRDaGlsZCh0b0RvSXRlbSk7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGUsIHByb2plY3ROYW1lKVxuICAgICAgfVxuICAgIH0pXG5cbiAgICBwcm9qZWN0U3R1ZmYucHJvamVjdExpc3QuZm9yRWFjaCgoZSkgPT4ge1xuICAgICAgaWYgKHByb2plY3ROYW1lID09PSBlKTtcbiAgICAgIHByb2plY3RTdHVmZi5jcmVhdGVQcm9qZWN0LmUucHVzaCh0b0RvKTtcbiAgICAgICAgLy8gZS5wdXNoKHRvRG8pO1xuICAgICAgICBjb25zb2xlLmxvZyhwcm9qZWN0U3R1ZmYuY3JlYXRlUHJvamVjdC5wcm9qZWN0QXJyYXkpO1xuICAgIH0pXG4gICAgXG4gIFxuICB9XG4gIHJldHVybiB7IGNyZWF0ZVRvZG8sIGF0dGFjaFRvUHJvamVjdCwgdG9Eb3MgfTtcbn0pKCk7IiwiaW1wb3J0IHsgYnRuQWN0aW9ucyB9IGZyb20gXCIuL2J0bi1hY3Rpb25zXCI7XG5pbXBvcnQgeyB0b0RvU3R1ZmYgfSBmcm9tIFwiLi90b2Rvc1wiO1xuXG5leHBvcnQgY29uc3QgcHJvamVjdFN0dWZmID0gKCgpID0+IHtcbiAgLy8gbG9jYWxTdG9yYWdlLmNsZWFyKCk7XG4gIGNvbnN0IHByb2plY3RMaXN0ID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInByb2plY3RMaXN0XCIpKSB8fCBbJ1BlcnNvbmFsJ107XG4gIFxuICBcbiAgLy9hZGQgcHJvamVjdCB0byBkcm9wLWRvd25cbiAgY29uc3QgcG9wdWxhdGVQcm9qZWN0RHJvcERvd24gPSAoKSA9PiB7XG4gICAgY29uc3QgcHJvamVjdFNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0Jyk7XG4gICAgcHJvamVjdFNlbGVjdC5pbm5lckhUTUwgPSBcIlwiO1xuICAgIHByb2plY3RMaXN0LmZvckVhY2goKGUpID0+IHtcbiAgICAgIGNvbnN0IHByb2plY3RPcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgIHByb2plY3RPcHRpb24uc2V0QXR0cmlidXRlKCd2YWx1ZScsIGUpO1xuICAgICAgcHJvamVjdE9wdGlvbi5jbGFzc0xpc3QuYWRkKCdwcm9qZWN0LW9wdGlvbicpO1xuICAgICAgcHJvamVjdE9wdGlvbi50ZXh0Q29udGVudCA9IGU7XG4gICAgICBwcm9qZWN0U2VsZWN0LmFwcGVuZENoaWxkKHByb2plY3RPcHRpb24pO1xuICAgIH0pO1xuICB9XG5cbiAgLy9zaG93IHByb2plY3QgbmFtZSBvbiBwYWdlXG4gIGNvbnN0IGRpc3BsYXlQcm9qZWN0ID0gKCkgPT4ge1xuICAgIGNvbnN0IHByb2plY3RDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdC1jb250YWluZXInKTtcbiAgICBwcm9qZWN0Q29udGFpbmVyLmlubmVySFRNTCA9IFwiXCI7XG4gICAgcHJvamVjdExpc3QuZm9yRWFjaCgoZSkgPT4ge1xuICAgICAgY29uc3QgY2xhc3NOYW1lID0gZS5yZXBsYWNlKC9cXHMrL2csICctJykudG9Mb3dlckNhc2UoKTtcbiAgICAgIGNvbnN0IHByb2plY3REaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHByb2plY3REaXYuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuICAgICAgY29uc3QgcHJvamVjdE5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMicpO1xuICAgICAgcHJvamVjdE5hbWUuY2xhc3NMaXN0LmFkZCgncHJvamVjdC1uYW1lJyk7XG4gICAgICBjb25zdCBlZGl0SWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgIGVkaXRJY29uLmNsYXNzTGlzdC5hZGQgKCdtYXRlcmlhbC1zeW1ib2xzLXJvdW5kZWQnLCAnZWRpdCcpO1xuICAgICAgZWRpdEljb24udGV4dENvbnRlbnQgPSAnZWRpdCc7XG4gICAgICBlZGl0SWNvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgZWRpdEFjdGlvbihgRWRpdCBQcm9qZWN0IE5hbWVgLCAnZWRpdCBwcm9qZWN0JywgZSlcbiAgICAgIH0pO1xuXG4gICAgICBwcm9qZWN0TmFtZS50ZXh0Q29udGVudCA9IGU7XG4gICAgICBwcm9qZWN0Q29udGFpbmVyLmFwcGVuZENoaWxkKHByb2plY3REaXYpO1xuICAgICAgcHJvamVjdERpdi5hcHBlbmRDaGlsZChwcm9qZWN0TmFtZSk7XG4gICAgICBwcm9qZWN0TmFtZS5hcHBlbmRDaGlsZChlZGl0SWNvbik7XG4gICAgICBcbiAgICAgIHRvRG9TdHVmZi50b0Rvcy5mb3JFYWNoKCh0KSA9PiB7XG4gICAgICAgIGlmICh0LnByb2plY3ROYW1lID09PSBlKSB7XG4gICAgICAgICAgY29uc3QgdG9Eb0l0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICAgICAgdG9Eb0l0ZW0udGV4dENvbnRlbnQgPSB0Lm5hbWU7XG4gICAgICAgICAgcHJvamVjdERpdi5hcHBlbmRDaGlsZCh0b0RvSXRlbSk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIGNvbnN0IGVkaXRBY3Rpb24gPSAobXNnLCB0eXBlLCBuYW1lKSA9PiB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI25hbWUnKS52YWx1ZSA9IG5hbWU7XG4gICAgYnRuQWN0aW9ucy5zaG93Rm9ybShtc2csIHR5cGUsIG5hbWUpO1xuICB9XG5cbiAgLy8gY29uc3QgZGlzcGxheU5lc3RlZFRvZG9zID0gKHByb2plY3ROYW1lLCB0b2RvKSA9PiB7XG4gIC8vICAgY29uc3QgbmV3VG9kbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgLy8gICBuZXdUb2RvLnRleHRDb250ZW50ID0gdG9kbztcbiAgLy8gICBwcm9qZWN0TmFtZS5hcHBlbmRDaGlsZCh0b2RvKTtcbiAgLy8gfVxuICAvLyBjb25zdCBjcmVhdGVQcm9qZWN0QXJyYXkgPSAoKSA9PiB7XG4gIC8vICAgcHJvamVjdExpc3QuZm9yRWFjaCgoZSkgPT4ge1xuICAvLyAgICAgZSA9IFtdO1xuICAvLyAgICAgY29uc29sZS5sb2coZSk7XG4gIC8vICAgfSlcbiAgLy8gfVxuXG4gIC8vcHJvamVjdCBmYWN0b3J5IGZ1bmN0aW9uXG4gIGNvbnN0IGNyZWF0ZVByb2plY3QgPSAobmFtZSkgPT4ge1xuICAgIHByb2plY3RMaXN0LnB1c2gobmFtZSk7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJwcm9qZWN0TGlzdFwiLCBKU09OLnN0cmluZ2lmeShwcm9qZWN0TGlzdCkpO1xuXG4gICAgcG9wdWxhdGVQcm9qZWN0RHJvcERvd24oKTtcbiAgICBkaXNwbGF5UHJvamVjdCgpO1xuICAgIC8vIGNyZWF0ZVByb2plY3RBcnJheSgpO1xuICB9XG5cbiAgY29uc3QgdXBkYXRlUHJvamVjdCA9IChjdXJyZW50TmFtZSwgbmV3TmFtZSkgPT4ge1xuICAgIGNvbnNvbGUubG9nKGN1cnJlbnROYW1lLCBuZXdOYW1lKTtcbiAgICBsZXQgaW5kZXggPSBwcm9qZWN0TGlzdC5pbmRleE9mKGN1cnJlbnROYW1lKTtcbiAgICBwcm9qZWN0TGlzdFtpbmRleF0gPSBuZXdOYW1lO1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwicHJvamVjdExpc3RcIiwgSlNPTi5zdHJpbmdpZnkocHJvamVjdExpc3QpKTtcbiAgICBkaXNwbGF5UHJvamVjdCgpO1xuICAgIHBvcHVsYXRlUHJvamVjdERyb3BEb3duKCk7XG4gIH1cbiAgICAgIFxuICBkaXNwbGF5UHJvamVjdCgpO1xuICBwb3B1bGF0ZVByb2plY3REcm9wRG93bigpO1xuICBcbiAgcmV0dXJuIHtjcmVhdGVQcm9qZWN0LCBwcm9qZWN0TGlzdCwgdXBkYXRlUHJvamVjdCwgZGlzcGxheVByb2plY3R9XG59KSgpOyIsImltcG9ydCB7IHByb2plY3RTdHVmZiB9IGZyb20gXCIuL3Byb2plY3RzXCI7XG5pbXBvcnQgeyB0b0RvU3R1ZmYgfSBmcm9tIFwiLi90b2Rvc1wiO1xuXG5leHBvcnQgY29uc3QgYnRuQWN0aW9ucyA9ICgoKSA9PiB7XG4gIGNvbnN0IHRvZG9CdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWRkLXRvZG8nKTtcbiAgY29uc3QgcHJvamVjdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZGQtcHJvamVjdCcpO1xuICBjb25zdCBmb3JtTWVzc2FnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmb3JtLW1lc3NhZ2UnKTtcbiAgY29uc3QgZm9ybUNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtLWNvbnRhaW5lcicpO1xuICBjb25zdCBwcm9qZWN0Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3QtY29udGFpbmVyJyk7XG4gIFxuICBjb25zdCBkYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRhdGUnKTtcbiAgY29uc3QgcHJpb3JpdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJpb3JpdHknKTtcbiAgY29uc3QgcHJvamVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0LXNlbGVjdCcpO1xuICBjb25zdCBzdWJtaXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3VibWl0LWJ0bicpO1xuXG4gIGNvbnN0IHNob3dGb3JtID0gKG1zZywgdHlwZSwgY3VycmVudE5hbWUpID0+IHtcbiAgICB0b2RvQnRuLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIHByb2plY3RCdG4uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgcHJvamVjdENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICBmb3JtTWVzc2FnZS50ZXh0Q29udGVudCA9IG1zZztcbiAgICBmb3JtQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgIGlmICh0eXBlID09PSAndG9kbycpIHtcbiAgICAgIGRhdGUuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBwcmlvcml0eS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIHByb2plY3QuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBzdWJtaXRCdG4udGV4dENvbnRlbnQgPSBcIkFkZCBOZXcgVG9kb1wiO1xuICAgICAgIC8vc3VibWl0IHRvZG8gZm9ybSBhbmQgY2xlYXIgZmllbGRzXG4gICAgICBzdWJtaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRvRG9TdHVmZi5jcmVhdGVUb2RvKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNuYW1lJykudmFsdWUsIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkYXRlJykudmFsdWUsIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwcmlvcml0eScpLnZhbHVlLCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJvamVjdCcpLnZhbHVlKTtcbiAgICAgICAgaGlkZUZvcm0oJ3RvZG8nKTtcbiAgICAgIH0sIHtvbmNlOiB0cnVlfSlcbiAgICB9IGlmICh0eXBlID09PSAncHJvamVjdCcpIHtcbiAgICAgIGRhdGUuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBwcmlvcml0eS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIHByb2plY3QuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBzdWJtaXRCdG4udGV4dENvbnRlbnQgPSBcIkFkZCBOZXcgUHJvamVjdFwiO1xuICAgICAgc3VibWl0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBwcm9qZWN0U3R1ZmYuY3JlYXRlUHJvamVjdChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbmFtZScpLnZhbHVlKTtcbiAgICAgICAgaGlkZUZvcm0oKTtcbiAgICAgIH0sIHtvbmNlOiB0cnVlfSk7XG4gICAgfSBpZiAodHlwZSA9PT0gJ2VkaXQgcHJvamVjdCcpIHtcbiAgICAgIGRhdGUuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBwcmlvcml0eS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIHByb2plY3QuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBzdWJtaXRCdG4udGV4dENvbnRlbnQgPSBcIlVwZGF0ZVwiO1xuICAgICAgc3VibWl0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBwcm9qZWN0U3R1ZmYudXBkYXRlUHJvamVjdChjdXJyZW50TmFtZSwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI25hbWUnKS52YWx1ZSk7XG4gICAgICAgIGhpZGVGb3JtKCk7XG4gICAgICB9LCB7b25jZTogdHJ1ZX0pO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGhpZGVGb3JtID0gKCkgPT4ge1xuICAgIHRvZG9CdG4uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgcHJvamVjdEJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICBmb3JtTWVzc2FnZS50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgZm9ybUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICBwcm9qZWN0Q29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgIC8vcmVzZXQgcHJpb3JpdHkgYW5kIHByb2plY3RcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJpb3JpdHknKS5zZWxlY3RlZEluZGV4ID0gMDtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJvamVjdCcpLnNlbGVjdGVkSW5kZXggPSAwO1xuICAgIC8vcmVzZXQgaW5wdXRzXG4gICAgbGV0IGlucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0Jyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnB1dHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlucHV0c1tpXS52YWx1ZSA9IFwiXCI7XG4gICAgfVxuICB9XG5cbiAgLy9hZGQgdG9kbyBidXR0b24gc2hvdyBmb3JtXG4gIHRvZG9CdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgc2hvd0Zvcm0oJ0FkZCBUby1kbycsICd0b2RvJyk7XG4gIH0pO1xuXG4gIC8vY3JlYXRlIHByb2plY3QgYnV0dG9uIHNob3cgZm9ybVxuICBwcm9qZWN0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHNob3dGb3JtKCdDcmVhdGUgUHJvamVjdCcsICdwcm9qZWN0Jyk7XG4gIH0pXG5cblxuICBcbiAgXG4gIHJldHVybiB7c2hvd0Zvcm0sIGhpZGVGb3JtfVxufSkoKTtcblxuICAiXSwibmFtZXMiOlsidG9Eb1N0dWZmIiwidG9Eb3MiLCJjcmVhdGVUb2RvIiwibmFtZSIsImRhdGUiLCJwcmlvcml0eSIsInByb2plY3ROYW1lIiwidG9EbyIsInB1c2giLCJwcm9qZWN0U3R1ZmYiLCJkaXNwbGF5UHJvamVjdCIsImF0dGFjaFRvUHJvamVjdCIsInByb2plY3RMaXN0IiwiZm9yRWFjaCIsImUiLCJwcm9qZWN0QXJyYXkiLCJjb25zb2xlIiwibG9nIiwiY3JlYXRlUHJvamVjdCIsIkpTT04iLCJwYXJzZSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJwb3B1bGF0ZVByb2plY3REcm9wRG93biIsInByb2plY3RTZWxlY3QiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiaW5uZXJIVE1MIiwicHJvamVjdE9wdGlvbiIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJjbGFzc0xpc3QiLCJhZGQiLCJ0ZXh0Q29udGVudCIsImFwcGVuZENoaWxkIiwicHJvamVjdENvbnRhaW5lciIsInF1ZXJ5U2VsZWN0b3IiLCJjbGFzc05hbWUiLCJyZXBsYWNlIiwidG9Mb3dlckNhc2UiLCJwcm9qZWN0RGl2IiwiZWRpdEljb24iLCJhZGRFdmVudExpc3RlbmVyIiwiZWRpdEFjdGlvbiIsInQiLCJ0b0RvSXRlbSIsIm1zZyIsInR5cGUiLCJ2YWx1ZSIsImJ0bkFjdGlvbnMiLCJzaG93Rm9ybSIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJ1cGRhdGVQcm9qZWN0IiwiY3VycmVudE5hbWUiLCJuZXdOYW1lIiwiaW5kZXgiLCJpbmRleE9mIiwidG9kb0J0biIsInByb2plY3RCdG4iLCJmb3JtTWVzc2FnZSIsImZvcm1Db250YWluZXIiLCJwcm9qZWN0Iiwic3VibWl0QnRuIiwicmVtb3ZlIiwicHJldmVudERlZmF1bHQiLCJoaWRlRm9ybSIsIm9uY2UiLCJzZWxlY3RlZEluZGV4IiwiaW5wdXRzIiwicXVlcnlTZWxlY3RvckFsbCIsImkiLCJsZW5ndGgiXSwic291cmNlUm9vdCI6IiJ9