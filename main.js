(()=>{"use strict";const e=(()=>{const e=JSON.parse(localStorage.getItem("projectList"))||["Personal"];console.log(e);const o=(e,t,o)=>{const d=document.getElementById("project");if("new"===t){const t=document.createElement("option");t.setAttribute("value",e),t.classList.add("project-option"),t.textContent=e,d.appendChild(t)}if("edit"===t){const t=document.querySelectorAll(".project-option");t[o].textContent=e,t[o].setAttribute("value",e)}},d=(t,o,d)=>{const n=document.querySelector(".project-container");n.innerHTML="",e.forEach((e=>{const t=document.createElement("h2");t.classList.add("project-name");const o=document.createElement("span");o.classList.add("material-symbols-rounded","edit"),o.textContent="edit",o.addEventListener("click",(()=>{c("Edit Project Name","edit project",e)})),t.textContent=e,n.appendChild(t),t.appendChild(o)}))},c=(e,o,d)=>{document.querySelector("#name").value=d,t.showForm(e,o,d)};return d(),{createProject:t=>{e.push(t),localStorage.setItem("projectList",JSON.stringify(e)),o(t,"new"),d()},projectList:e,updateProject:(t,c)=>{console.log(t,c);let n=e.indexOf(t);e[n]=c,localStorage.setItem("projectList",JSON.stringify(e)),d(),o(c,"edit",n)}}})(),t=(()=>{const t=document.querySelector(".add-todo"),d=document.querySelector(".add-project"),c=document.querySelector("#form-message"),n=document.querySelector(".form-container"),r=document.querySelector(".project-container"),s=document.querySelector(".date"),a=document.querySelector(".priority"),l=document.querySelector(".project-select"),i=document.querySelector(".submit-btn"),u=(u,p,L)=>{t.classList.add("hidden"),d.classList.add("hidden"),r.classList.add("hidden"),c.textContent=u,n.classList.remove("hidden"),"todo"===p&&(s.classList.remove("hidden"),a.classList.remove("hidden"),l.classList.remove("hidden"),i.textContent="Add New Todo",i.addEventListener("click",(e=>{e.preventDefault(),o(document.querySelector("#name").value,document.querySelector("#date").value,document.querySelector("#priority").value,document.querySelector("#project").value),m("todo")}),{once:!0})),"project"===p&&(s.classList.add("hidden"),a.classList.add("hidden"),l.classList.add("hidden"),i.textContent="Add New Project",i.addEventListener("click",(t=>{t.preventDefault(),e.createProject(document.querySelector("#name").value),m()}),{once:!0})),"edit project"===p&&(s.classList.add("hidden"),a.classList.add("hidden"),l.classList.add("hidden"),i.textContent="Update",i.addEventListener("click",(t=>{t.preventDefault(),e.updateProject(L,document.querySelector("#name").value),m()}),{once:!0}))},m=()=>{t.classList.remove("hidden"),d.classList.remove("hidden"),c.textContent="",n.classList.add("hidden"),r.classList.remove("hidden"),document.querySelector("#priority").selectedIndex=0,document.querySelector("#project").selectedIndex=0;let e=document.querySelectorAll("input");for(let t=0;t<e.length;t++)e[t].value=""};return t.addEventListener("click",(()=>{u("Add To-do","todo")})),d.addEventListener("click",(()=>{u("Create Project","project")})),{showForm:u,hideForm:m}})(),o=(e,t,o,c)=>{let n=[],r={name:e,date:t,priority:o,projectName:c};return n.push(r),console.log(n[0]),d(r),n},d=t=>{e.projectList.forEach((e=>{t.projectName===e&&console.log(e,t.name)}))}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNwQixFQWVGLE9BWEFXLEVBQVFkLGlCQUFpQixTQUFTLEtBQ2hDSyxFQUFTLFlBQWEsT0FBTyxJQUkvQlUsRUFBV2YsaUJBQWlCLFNBQVMsS0FDbkNLLEVBQVMsaUJBQWtCLFVBQVUsSUFLaEMsQ0FBQ0EsV0FBVW9CLFdBRW5CLEVBbEZ5QixHQW9GcEJELEVBQWEsQ0FBQzlDLEVBQU13QyxFQUFNQyxFQUFVckIsS0FDeEMsSUFBSWlDLEVBQVEsR0FDUkMsRUFBTyxDQUFDdEQsT0FBTXdDLE9BQU1DLFdBQVVyQixlQUtsQyxPQUpBaUMsRUFBTXhCLEtBQUt5QixHQUNYekQsUUFBUUMsSUFBSXVELEVBQU0sSUFDbEJFLEVBQWdCRCxHQUVURCxDQUFLLEVBR1JFLEVBQW1CRCxJQUN2Qi9ELEVBQWFDLFlBQVkwQixTQUFTQyxJQUM1Qm1DLEVBQUtsQyxjQUFnQkQsR0FDdkJ0QixRQUFRQyxJQUFJcUIsRUFBR21DLEVBQUt0RCxLQUN0QixHQUNELEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90by1kb3MvLi9zcmMvcHJvamVjdHMuanMiLCJ3ZWJwYWNrOi8vdG8tZG9zLy4vc3JjL2J0bi1hY3Rpb25zLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGJ0bkFjdGlvbnMgfSBmcm9tIFwiLi9idG4tYWN0aW9uc1wiO1xuXG5leHBvcnQgY29uc3QgcHJvamVjdFN0dWZmID0gKCgpID0+IHtcbiAgLy8gbG9jYWxTdG9yYWdlLmNsZWFyKCk7XG4gIGNvbnN0IHByb2plY3RMaXN0ID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInByb2plY3RMaXN0XCIpKSB8fCBbJ1BlcnNvbmFsJ107XG4gIFxuICBjb25zb2xlLmxvZyhwcm9qZWN0TGlzdClcbiAgXG4gIFxuICAvL2FkZCBwcm9qZWN0IHRvIGRyb3AtZG93blxuICBjb25zdCBwb3B1bGF0ZVByb2plY3REcm9wRG93biA9IChuYW1lLCB0eXBlLCBpbmRleCkgPT4ge1xuICAgIGNvbnN0IHByb2plY3RTZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvamVjdCcpO1xuICAgIGlmICh0eXBlID09PSAnbmV3Jykge1xuICAgIGNvbnN0IHByb2plY3RPcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICBwcm9qZWN0T3B0aW9uLnNldEF0dHJpYnV0ZSgndmFsdWUnLCBuYW1lKTtcbiAgICBwcm9qZWN0T3B0aW9uLmNsYXNzTGlzdC5hZGQoJ3Byb2plY3Qtb3B0aW9uJyk7XG4gICAgcHJvamVjdE9wdGlvbi50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgcHJvamVjdFNlbGVjdC5hcHBlbmRDaGlsZChwcm9qZWN0T3B0aW9uKTtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT09ICdlZGl0Jykge1xuICAgICAgY29uc3QgcHJvamVjdE9wdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9qZWN0LW9wdGlvbicpO1xuICAgICAgcHJvamVjdE9wdGlvbltpbmRleF0udGV4dENvbnRlbnQgPSBuYW1lO1xuICAgICAgcHJvamVjdE9wdGlvbltpbmRleF0uc2V0QXR0cmlidXRlKCd2YWx1ZScsIG5hbWUpO1xuICAgIH1cbiAgfVxuXG4gIC8vc2hvdyBwcm9qZWN0IG5hbWUgb24gcGFnZVxuICBjb25zdCBkaXNwbGF5UHJvamVjdCA9IChuYW1lLCB0eXBlLCBpbmRleCkgPT4ge1xuICAgIGNvbnN0IHByb2plY3RDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdC1jb250YWluZXInKTtcbiAgICBwcm9qZWN0Q29udGFpbmVyLmlubmVySFRNTCA9IFwiXCI7XG4gICAgcHJvamVjdExpc3QuZm9yRWFjaCgoZSkgPT4ge1xuICAgICAgY29uc3QgcHJvamVjdE5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMicpO1xuICAgICAgcHJvamVjdE5hbWUuY2xhc3NMaXN0LmFkZCgncHJvamVjdC1uYW1lJyk7XG4gICAgICBjb25zdCBlZGl0SWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgIGVkaXRJY29uLmNsYXNzTGlzdC5hZGQgKCdtYXRlcmlhbC1zeW1ib2xzLXJvdW5kZWQnLCAnZWRpdCcpO1xuICAgICAgZWRpdEljb24udGV4dENvbnRlbnQgPSAnZWRpdCc7XG4gICAgICBlZGl0SWNvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgZWRpdEFjdGlvbihgRWRpdCBQcm9qZWN0IE5hbWVgLCAnZWRpdCBwcm9qZWN0JywgZSlcbiAgICAgIH0pO1xuICAgICAgcHJvamVjdE5hbWUudGV4dENvbnRlbnQgPSBlO1xuICAgICAgcHJvamVjdENvbnRhaW5lci5hcHBlbmRDaGlsZChwcm9qZWN0TmFtZSk7XG4gICAgICBwcm9qZWN0TmFtZS5hcHBlbmRDaGlsZChlZGl0SWNvbik7XG4gICAgfSlcblxuICAgIC8vIGlmICh0eXBlID09PSBcIm5ld1wiKSB7XG4gICAgLy8gICBjb25zdCBwcm9qZWN0TmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gyJyk7XG4gICAgLy8gICBwcm9qZWN0TmFtZS5jbGFzc0xpc3QuYWRkKCdwcm9qZWN0LW5hbWUnKTtcbiAgICAvLyAgIGNvbnN0IGVkaXRJY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgIC8vICAgZWRpdEljb24uY2xhc3NMaXN0LmFkZCAoJ21hdGVyaWFsLXN5bWJvbHMtcm91bmRlZCcsICdlZGl0Jyk7XG4gICAgLy8gICBlZGl0SWNvbi50ZXh0Q29udGVudCA9ICdlZGl0JztcbiAgICAvLyAgIGVkaXRJY29uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIC8vICAgICBlZGl0QWN0aW9uKGBFZGl0IFByb2plY3QgTmFtZWAsICdlZGl0IHByb2plY3QnLCBuYW1lKVxuICAgIC8vICAgfSk7XG4gICAgLy8gICBwcm9qZWN0TmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgLy8gICBwcm9qZWN0Q29udGFpbmVyLmFwcGVuZENoaWxkKHByb2plY3ROYW1lKTtcbiAgICAvLyAgIHByb2plY3ROYW1lLmFwcGVuZENoaWxkKGVkaXRJY29uKTtcbiAgICAvLyB9XG4gICAgLy8gaWYgKHR5cGUgPT09IFwiZWRpdFwiKSB7XG4gICAgLy8gICBjb25zdCBwcm9qZWN0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9qZWN0LW5hbWUnKTtcbiAgICAvLyAgIHByb2plY3ROYW1lW2luZGV4XS50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgLy8gICBjb25zdCBlZGl0SWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAvLyAgIGVkaXRJY29uLmNsYXNzTGlzdC5hZGQgKCdtYXRlcmlhbC1zeW1ib2xzLXJvdW5kZWQnLCAnZWRpdCcpO1xuICAgIC8vICAgZWRpdEljb24udGV4dENvbnRlbnQgPSAnZWRpdCc7XG4gICAgLy8gICBlZGl0SWNvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAvLyAgICAgZWRpdEFjdGlvbihgRWRpdCBQcm9qZWN0IE5hbWVgLCAnZWRpdCBwcm9qZWN0JywgbmFtZSlcbiAgICAvLyAgIH0pO1xuICAgIC8vICAgcHJvamVjdE5hbWVbaW5kZXhdLmFwcGVuZENoaWxkKGVkaXRJY29uKTtcbiAgICAvLyB9XG4gIH1cblxuICBjb25zdCBlZGl0QWN0aW9uID0gKG1zZywgdHlwZSwgbmFtZSkgPT4ge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNuYW1lJykudmFsdWUgPSBuYW1lO1xuICAgIGJ0bkFjdGlvbnMuc2hvd0Zvcm0obXNnLCB0eXBlLCBuYW1lKTtcbiAgfVxuXG4gIC8vIGNvbnN0IGRpc3BsYXlOZXN0ZWRUb2RvcyA9IChwcm9qZWN0TmFtZSwgdG9kbykgPT4ge1xuICAvLyAgIGNvbnN0IG5ld1RvZG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gIC8vICAgbmV3VG9kby50ZXh0Q29udGVudCA9IHRvZG87XG4gIC8vICAgcHJvamVjdE5hbWUuYXBwZW5kQ2hpbGQodG9kbyk7XG4gIC8vIH1cblxuICAvL3Byb2plY3QgZmFjdG9yeSBmdW5jdGlvblxuICBjb25zdCBjcmVhdGVQcm9qZWN0ID0gKG5hbWUpID0+IHtcbiAgICBwcm9qZWN0TGlzdC5wdXNoKG5hbWUpO1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwicHJvamVjdExpc3RcIiwgSlNPTi5zdHJpbmdpZnkocHJvamVjdExpc3QpKTtcblxuICAgIHBvcHVsYXRlUHJvamVjdERyb3BEb3duKG5hbWUsICduZXcnKTtcbiAgICBkaXNwbGF5UHJvamVjdChuYW1lLCAnbmV3Jyk7XG5cbiAgfVxuXG4gIGNvbnN0IHVwZGF0ZVByb2plY3QgPSAoY3VycmVudE5hbWUsIG5ld05hbWUpID0+IHtcbiAgICBjb25zb2xlLmxvZyhjdXJyZW50TmFtZSwgbmV3TmFtZSk7XG4gICAgbGV0IGluZGV4ID0gcHJvamVjdExpc3QuaW5kZXhPZihjdXJyZW50TmFtZSk7XG4gICAgcHJvamVjdExpc3RbaW5kZXhdID0gbmV3TmFtZTtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInByb2plY3RMaXN0XCIsIEpTT04uc3RyaW5naWZ5KHByb2plY3RMaXN0KSk7XG4gICAgZGlzcGxheVByb2plY3QobmV3TmFtZSwgJ2VkaXQnLCBpbmRleCk7XG4gICAgcG9wdWxhdGVQcm9qZWN0RHJvcERvd24obmV3TmFtZSwgJ2VkaXQnLCBpbmRleCk7XG4gIH1cblxuICAvLyBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJwcm9qZWN0TGlzdFwiKSkge1xuICAgIC8vIHByb2plY3RMaXN0Lm1hcCgocHJvamVjdExpc3QpID0+IHtcbiAgICAgIGRpc3BsYXlQcm9qZWN0KHByb2plY3RMaXN0KTtcbiAgICAvLyB9KTtcbiAgLy8gfSBcbiAgXG4gIHJldHVybiB7Y3JlYXRlUHJvamVjdCwgcHJvamVjdExpc3QsIHVwZGF0ZVByb2plY3R9XG59KSgpOyIsImltcG9ydCB7IHByb2plY3RTdHVmZiB9IGZyb20gXCIuL3Byb2plY3RzXCI7XG5cbmV4cG9ydCBjb25zdCBidG5BY3Rpb25zID0gKCgpID0+IHtcbiAgY29uc3QgdG9kb0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZGQtdG9kbycpO1xuICBjb25zdCBwcm9qZWN0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFkZC1wcm9qZWN0Jyk7XG4gIGNvbnN0IGZvcm1NZXNzYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Zvcm0tbWVzc2FnZScpO1xuICBjb25zdCBmb3JtQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm0tY29udGFpbmVyJyk7XG4gIGNvbnN0IHByb2plY3RDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdC1jb250YWluZXInKTtcbiAgXG4gIGNvbnN0IGRhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZGF0ZScpO1xuICBjb25zdCBwcmlvcml0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcmlvcml0eScpO1xuICBjb25zdCBwcm9qZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3Qtc2VsZWN0Jyk7XG4gIGNvbnN0IHN1Ym1pdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zdWJtaXQtYnRuJyk7XG5cbiAgY29uc3Qgc2hvd0Zvcm0gPSAobXNnLCB0eXBlLCBjdXJyZW50TmFtZSkgPT4ge1xuICAgIHRvZG9CdG4uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgcHJvamVjdEJ0bi5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICBwcm9qZWN0Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIGZvcm1NZXNzYWdlLnRleHRDb250ZW50ID0gbXNnO1xuICAgIGZvcm1Db250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgaWYgKHR5cGUgPT09ICd0b2RvJykge1xuICAgICAgZGF0ZS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIHByaW9yaXR5LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgcHJvamVjdC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIHN1Ym1pdEJ0bi50ZXh0Q29udGVudCA9IFwiQWRkIE5ldyBUb2RvXCI7XG4gICAgICAgLy9zdWJtaXQgdG9kbyBmb3JtIGFuZCBjbGVhciBmaWVsZHNcbiAgICAgIHN1Ym1pdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY3JlYXRlVG9kbyhkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbmFtZScpLnZhbHVlLCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZGF0ZScpLnZhbHVlLCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJpb3JpdHknKS52YWx1ZSwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Byb2plY3QnKS52YWx1ZSk7XG4gICAgICAgIGhpZGVGb3JtKCd0b2RvJyk7XG4gICAgICB9LCB7b25jZTogdHJ1ZX0pXG4gICAgfSBpZiAodHlwZSA9PT0gJ3Byb2plY3QnKSB7XG4gICAgICBkYXRlLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgcHJpb3JpdHkuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBwcm9qZWN0LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgc3VibWl0QnRuLnRleHRDb250ZW50ID0gXCJBZGQgTmV3IFByb2plY3RcIjtcbiAgICAgIHN1Ym1pdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcHJvamVjdFN0dWZmLmNyZWF0ZVByb2plY3QoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI25hbWUnKS52YWx1ZSk7XG4gICAgICAgIGhpZGVGb3JtKCk7XG4gICAgICB9LCB7b25jZTogdHJ1ZX0pO1xuICAgIH0gaWYgKHR5cGUgPT09ICdlZGl0IHByb2plY3QnKSB7XG4gICAgICBkYXRlLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgcHJpb3JpdHkuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBwcm9qZWN0LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgc3VibWl0QnRuLnRleHRDb250ZW50ID0gXCJVcGRhdGVcIjtcbiAgICAgIHN1Ym1pdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcHJvamVjdFN0dWZmLnVwZGF0ZVByb2plY3QoY3VycmVudE5hbWUsIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNuYW1lJykudmFsdWUpO1xuICAgICAgICBoaWRlRm9ybSgpO1xuICAgICAgfSwge29uY2U6IHRydWV9KTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBoaWRlRm9ybSA9ICgpID0+IHtcbiAgICB0b2RvQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgIHByb2plY3RCdG4uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgZm9ybU1lc3NhZ2UudGV4dENvbnRlbnQgPSBcIlwiO1xuICAgIGZvcm1Db250YWluZXIuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgcHJvamVjdENvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAvL3Jlc2V0IHByaW9yaXR5IGFuZCBwcm9qZWN0XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3ByaW9yaXR5Jykuc2VsZWN0ZWRJbmRleCA9IDA7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Byb2plY3QnKS5zZWxlY3RlZEluZGV4ID0gMDtcbiAgICAvL3Jlc2V0IGlucHV0c1xuICAgIGxldCBpbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dCcpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpbnB1dHNbaV0udmFsdWUgPSBcIlwiO1xuICAgIH1cbiAgfVxuXG4gIC8vYWRkIHRvZG8gYnV0dG9uIHNob3cgZm9ybVxuICB0b2RvQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHNob3dGb3JtKCdBZGQgVG8tZG8nLCAndG9kbycpO1xuICB9KTtcblxuICAvL2NyZWF0ZSBwcm9qZWN0IGJ1dHRvbiBzaG93IGZvcm1cbiAgcHJvamVjdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBzaG93Rm9ybSgnQ3JlYXRlIFByb2plY3QnLCAncHJvamVjdCcpO1xuICB9KVxuXG4gXG5cbiAgcmV0dXJuIHtzaG93Rm9ybSwgaGlkZUZvcm19XG5cbn0pKCk7XG5cbmNvbnN0IGNyZWF0ZVRvZG8gPSAobmFtZSwgZGF0ZSwgcHJpb3JpdHksIHByb2plY3ROYW1lKSA9PiB7XG4gIGxldCB0b2RvcyA9IFtdO1xuICBsZXQgdG9kbyA9IHtuYW1lLCBkYXRlLCBwcmlvcml0eSwgcHJvamVjdE5hbWV9O1xuICB0b2Rvcy5wdXNoKHRvZG8pO1xuICBjb25zb2xlLmxvZyh0b2Rvc1swXSk7XG4gIGF0dGFjaFRvUHJvamVjdCh0b2RvKTtcblxuICByZXR1cm4gdG9kb3M7XG59XG5cbmNvbnN0IGF0dGFjaFRvUHJvamVjdCA9ICh0b2RvKSA9PiB7XG4gIHByb2plY3RTdHVmZi5wcm9qZWN0TGlzdC5mb3JFYWNoKChlKSA9PiB7XG4gICAgaWYgKHRvZG8ucHJvamVjdE5hbWUgPT09IGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKGUsIHRvZG8ubmFtZSk7XG4gICAgfVxuICB9KVxuICBcbn0iXSwibmFtZXMiOlsicHJvamVjdFN0dWZmIiwicHJvamVjdExpc3QiLCJKU09OIiwicGFyc2UiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiY29uc29sZSIsImxvZyIsInBvcHVsYXRlUHJvamVjdERyb3BEb3duIiwibmFtZSIsInR5cGUiLCJpbmRleCIsInByb2plY3RTZWxlY3QiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwicHJvamVjdE9wdGlvbiIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJjbGFzc0xpc3QiLCJhZGQiLCJ0ZXh0Q29udGVudCIsImFwcGVuZENoaWxkIiwicXVlcnlTZWxlY3RvckFsbCIsImRpc3BsYXlQcm9qZWN0IiwicHJvamVjdENvbnRhaW5lciIsInF1ZXJ5U2VsZWN0b3IiLCJpbm5lckhUTUwiLCJmb3JFYWNoIiwiZSIsInByb2plY3ROYW1lIiwiZWRpdEljb24iLCJhZGRFdmVudExpc3RlbmVyIiwiZWRpdEFjdGlvbiIsIm1zZyIsInZhbHVlIiwiYnRuQWN0aW9ucyIsInNob3dGb3JtIiwiY3JlYXRlUHJvamVjdCIsInB1c2giLCJzZXRJdGVtIiwic3RyaW5naWZ5IiwidXBkYXRlUHJvamVjdCIsImN1cnJlbnROYW1lIiwibmV3TmFtZSIsImluZGV4T2YiLCJ0b2RvQnRuIiwicHJvamVjdEJ0biIsImZvcm1NZXNzYWdlIiwiZm9ybUNvbnRhaW5lciIsImRhdGUiLCJwcmlvcml0eSIsInByb2plY3QiLCJzdWJtaXRCdG4iLCJyZW1vdmUiLCJwcmV2ZW50RGVmYXVsdCIsImNyZWF0ZVRvZG8iLCJoaWRlRm9ybSIsIm9uY2UiLCJzZWxlY3RlZEluZGV4IiwiaW5wdXRzIiwiaSIsImxlbmd0aCIsInRvZG9zIiwidG9kbyIsImF0dGFjaFRvUHJvamVjdCJdLCJzb3VyY2VSb290IjoiIn0=