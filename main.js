(()=>{"use strict";const e=(()=>{let e=JSON.parse(localStorage.getItem("toDos"))||[];return{createTodo:(o,c,d,n)=>{let r={name:o,date:c,priority:d,projectName:n};return e.push(r),localStorage.setItem("toDos",JSON.stringify(e)),t.displayProject(),{toDos:e}},attachToProject:(e,o)=>{t.projectList.forEach((t=>{if(o===t){let t;t.push(e),console.log(t)}})),t.projectList.forEach((o=>{t.createProject.e.push(e),console.log(t.createProject.projectArray)}))},toDos:e}})(),t=(()=>{const t=JSON.parse(localStorage.getItem("projectList"))||["Personal"],c=()=>{const e=document.getElementById("project");e.innerHTML="",t.forEach((t=>{const o=document.createElement("option");o.setAttribute("value",t),o.classList.add("project-option"),o.textContent=t,e.appendChild(o)}))},d=()=>{const o=document.querySelector(".project-container");o.innerHTML="",t.forEach((t=>{const c=t.replace(/\s+/g,"-").toLowerCase(),d=document.createElement("div");d.className=c;const r=document.createElement("h2");r.classList.add("project-name");const s=document.createElement("span");s.classList.add("material-symbols-rounded","edit"),s.textContent="edit",s.addEventListener("click",(()=>{n("Edit Project Name","edit project",t)})),r.textContent=t,o.appendChild(d),d.appendChild(r),r.appendChild(s),e.toDos.forEach((e=>{if(e.projectName===t){const o=document.createElement("div");o.classList.add("to-do-item");const c=document.createElement("span");c.textContent=e.name;const r=document.createElement("span");r.textContent=e.priority;const s=document.createElement("span");s.textContent=e.date;const a=document.createElement("span");a.classList.add("material-symbols-rounded","edit"),a.textContent="edit",a.addEventListener("click",(()=>{n("Edit To Do","edit todo",t)})),d.appendChild(o),o.append(c,r,s,a)}}))}))},n=(e,t,c)=>{document.querySelector("#name").value=c,o.showForm(e,t,c)};return d(),c(),{createProject:e=>{t.push(e),localStorage.setItem("projectList",JSON.stringify(t)),c(),d()},projectList:t,updateProject:(e,o)=>{console.log(e,o);let n=t.indexOf(e);t[n]=o,localStorage.setItem("projectList",JSON.stringify(t)),d(),c()},displayProject:d}})(),o=(()=>{const o=document.querySelector(".add-todo"),c=document.querySelector(".add-project"),d=document.querySelector("#form-message"),n=document.querySelector(".form-container"),r=document.querySelector(".project-container"),s=document.querySelector(".date"),a=document.querySelector(".priority"),i=document.querySelector(".project-select"),l=document.querySelector(".submit-btn"),u=(u,p,L)=>{o.classList.add("hidden"),c.classList.add("hidden"),r.classList.add("hidden"),d.textContent=u,n.classList.remove("hidden"),"todo"===p&&(s.classList.remove("hidden"),a.classList.remove("hidden"),i.classList.remove("hidden"),l.textContent="Add New Todo",l.addEventListener("click",(t=>{t.preventDefault(),e.createTodo(document.querySelector("#name").value,document.querySelector("#date").value,document.querySelector("#priority").value,document.querySelector("#project").value),m("todo")}),{once:!0})),"project"===p&&(s.classList.add("hidden"),a.classList.add("hidden"),i.classList.add("hidden"),l.textContent="Add New Project",l.addEventListener("click",(e=>{e.preventDefault(),t.createProject(document.querySelector("#name").value),m()}),{once:!0})),"edit project"===p&&(s.classList.add("hidden"),a.classList.add("hidden"),i.classList.add("hidden"),l.textContent="Update",l.addEventListener("click",(e=>{e.preventDefault(),t.updateProject(L,document.querySelector("#name").value),m()}),{once:!0})),"edit todo"===p&&(s.classList.remove("hidden"),a.classList.remove("hidden"),i.classList.remove("hidden"),l.textContent="Update",l.addEventListener("click",(e=>{e.preventDefault(),t.updateProject(L,document.querySelector("#name").value),m()}),{once:!0}))},m=()=>{o.classList.remove("hidden"),c.classList.remove("hidden"),d.textContent="",n.classList.add("hidden"),r.classList.remove("hidden"),document.querySelector("#priority").selectedIndex=0,document.querySelector("#project").selectedIndex=0;let e=document.querySelectorAll("input");for(let t=0;t<e.length;t++)e[t].value=""};return o.addEventListener("click",(()=>{u("Add To-do","todo")})),c.addEventListener("click",(()=>{u("Create Project","project")})),{showForm:u,hideForm:m}})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QzVCSixFQUFZN0IsWUFBYyxHQUMxQjhCLEVBQWNoQyxVQUFVQyxJQUFJLFVBQzVCRyxFQUFpQkosVUFBVW1DLE9BQU8sVUFFbEN6QyxTQUFTVyxjQUFjLGFBQWFrQyxjQUFnQixFQUNwRDdDLFNBQVNXLGNBQWMsWUFBWWtDLGNBQWdCLEVBRW5ELElBQUlDLEVBQVM5QyxTQUFTK0MsaUJBQWlCLFNBQ3ZDLElBQUssSUFBSUMsRUFBSSxFQUFHQSxFQUFJRixFQUFPRyxPQUFRRCxJQUNqQ0YsRUFBT0UsR0FBR3JCLE1BQVEsRUFDcEIsRUFnQkYsT0FaQVEsRUFBUWxCLGlCQUFpQixTQUFTLEtBQ2hDWSxFQUFTLFlBQWEsT0FBTyxJQUkvQk8sRUFBV25CLGlCQUFpQixTQUFTLEtBQ25DWSxFQUFTLGlCQUFrQixVQUFVLElBTWhDLENBQUNBLFdBQVVjLFdBQ25CLEVBNUZ5QixFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG8tZG9zLy4vc3JjL3RvZG9zLmpzIiwid2VicGFjazovL3RvLWRvcy8uL3NyYy9wcm9qZWN0cy5qcyIsIndlYnBhY2s6Ly90by1kb3MvLi9zcmMvYnRuLWFjdGlvbnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcHJvamVjdFN0dWZmIH0gZnJvbSBcIi4vcHJvamVjdHNcIjtcbmltcG9ydCB7IGJ0bkFjdGlvbnMgfSBmcm9tIFwiLi9idG4tYWN0aW9uc1wiO1xuXG5leHBvcnQgY29uc3QgdG9Eb1N0dWZmID0gKCgpID0+IHtcbmxldCB0b0RvcyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ0b0Rvc1wiKSkgfHwgW107XG4gIGNvbnN0IGNyZWF0ZVRvZG8gPSAobmFtZSwgZGF0ZSwgcHJpb3JpdHksIHByb2plY3ROYW1lKSA9PiB7XG4gICBcbiAgICBsZXQgdG9EbyA9IHtuYW1lLCBkYXRlLCBwcmlvcml0eSwgcHJvamVjdE5hbWV9O1xuICAgIHRvRG9zLnB1c2godG9Ebyk7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ0b0Rvc1wiLCBKU09OLnN0cmluZ2lmeSh0b0RvcykpO1xuICAgIHByb2plY3RTdHVmZi5kaXNwbGF5UHJvamVjdCgpO1xuICAgIC8vIGF0dGFjaFRvUHJvamVjdCh0b0RvLCBwcm9qZWN0TmFtZSk7XG5cbiAgICByZXR1cm4ge3RvRG9zfTtcbiAgfVxuXG4gIGNvbnN0IGF0dGFjaFRvUHJvamVjdCA9ICh0b0RvLCBwcm9qZWN0TmFtZSkgPT4ge1xuICAgIHByb2plY3RTdHVmZi5wcm9qZWN0TGlzdC5mb3JFYWNoKChlKSA9PiB7XG4gICAgICBpZiAocHJvamVjdE5hbWUgPT09IGUpIHtcbiAgICAgICAgbGV0IHByb2plY3RBcnJheTtcbiAgICAgICAgcHJvamVjdEFycmF5LnB1c2godG9Ebyk7XG4gICAgICAgIGNvbnNvbGUubG9nKHByb2plY3RBcnJheSk7XG4gICAgICAgIC8vIGNvbnN0IGNsYXNzTmFtZSA9IGUucmVwbGFjZSgvXFxzKy9nLCAnLScpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGNsYXNzTmFtZSlcbiAgICAgICAgLy8gY29uc3QgcHJvamVjdE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtjbGFzc05hbWV9YCk7XG4gICAgICAgIC8vIGNvbnN0IHRvRG9JdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgICAgICAvLyB0b0RvSXRlbS50ZXh0Q29udGVudCA9IHRvRG8ubmFtZTtcblxuICAgICAgICAvLyBwcm9qZWN0TmFtZS5hcHBlbmRDaGlsZCh0b0RvSXRlbSk7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGUsIHByb2plY3ROYW1lKVxuICAgICAgfVxuICAgIH0pXG5cbiAgICBwcm9qZWN0U3R1ZmYucHJvamVjdExpc3QuZm9yRWFjaCgoZSkgPT4ge1xuICAgICAgaWYgKHByb2plY3ROYW1lID09PSBlKTtcbiAgICAgIHByb2plY3RTdHVmZi5jcmVhdGVQcm9qZWN0LmUucHVzaCh0b0RvKTtcbiAgICAgICAgLy8gZS5wdXNoKHRvRG8pO1xuICAgICAgICBjb25zb2xlLmxvZyhwcm9qZWN0U3R1ZmYuY3JlYXRlUHJvamVjdC5wcm9qZWN0QXJyYXkpO1xuICAgIH0pXG4gIFxuICB9XG4gIHJldHVybiB7IGNyZWF0ZVRvZG8sIGF0dGFjaFRvUHJvamVjdCwgdG9Eb3MgfTtcbn0pKCk7IiwiaW1wb3J0IHsgYnRuQWN0aW9ucyB9IGZyb20gXCIuL2J0bi1hY3Rpb25zXCI7XG5pbXBvcnQgeyB0b0RvU3R1ZmYgfSBmcm9tIFwiLi90b2Rvc1wiO1xuXG5leHBvcnQgY29uc3QgcHJvamVjdFN0dWZmID0gKCgpID0+IHtcbiAgLy8gbG9jYWxTdG9yYWdlLmNsZWFyKCk7XG4gIGNvbnN0IHByb2plY3RMaXN0ID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInByb2plY3RMaXN0XCIpKSB8fCBbJ1BlcnNvbmFsJ107XG4gIFxuICBcbiAgLy9hZGQgcHJvamVjdCB0byBkcm9wLWRvd25cbiAgY29uc3QgcG9wdWxhdGVQcm9qZWN0RHJvcERvd24gPSAoKSA9PiB7XG4gICAgY29uc3QgcHJvamVjdFNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0Jyk7XG4gICAgcHJvamVjdFNlbGVjdC5pbm5lckhUTUwgPSBcIlwiO1xuICAgIHByb2plY3RMaXN0LmZvckVhY2goKGUpID0+IHtcbiAgICAgIGNvbnN0IHByb2plY3RPcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgIHByb2plY3RPcHRpb24uc2V0QXR0cmlidXRlKCd2YWx1ZScsIGUpO1xuICAgICAgcHJvamVjdE9wdGlvbi5jbGFzc0xpc3QuYWRkKCdwcm9qZWN0LW9wdGlvbicpO1xuICAgICAgcHJvamVjdE9wdGlvbi50ZXh0Q29udGVudCA9IGU7XG4gICAgICBwcm9qZWN0U2VsZWN0LmFwcGVuZENoaWxkKHByb2plY3RPcHRpb24pO1xuICAgIH0pO1xuICB9XG5cbiAgLy9zaG93IHByb2plY3QgbmFtZSBvbiBwYWdlXG4gIGNvbnN0IGRpc3BsYXlQcm9qZWN0ID0gKCkgPT4ge1xuICAgIGNvbnN0IHByb2plY3RDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdC1jb250YWluZXInKTtcbiAgICBwcm9qZWN0Q29udGFpbmVyLmlubmVySFRNTCA9IFwiXCI7XG4gICAgcHJvamVjdExpc3QuZm9yRWFjaCgoZSkgPT4ge1xuICAgICAgY29uc3QgY2xhc3NOYW1lID0gZS5yZXBsYWNlKC9cXHMrL2csICctJykudG9Mb3dlckNhc2UoKTtcbiAgICAgIGNvbnN0IHByb2plY3REaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHByb2plY3REaXYuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuICAgICAgY29uc3QgcHJvamVjdE5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMicpO1xuICAgICAgcHJvamVjdE5hbWUuY2xhc3NMaXN0LmFkZCgncHJvamVjdC1uYW1lJyk7XG4gICAgICBjb25zdCBlZGl0SWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgIGVkaXRJY29uLmNsYXNzTGlzdC5hZGQgKCdtYXRlcmlhbC1zeW1ib2xzLXJvdW5kZWQnLCAnZWRpdCcpO1xuICAgICAgZWRpdEljb24udGV4dENvbnRlbnQgPSAnZWRpdCc7XG4gICAgICBlZGl0SWNvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgZWRpdEFjdGlvbihgRWRpdCBQcm9qZWN0IE5hbWVgLCAnZWRpdCBwcm9qZWN0JywgZSlcbiAgICAgIH0pO1xuXG4gICAgICBwcm9qZWN0TmFtZS50ZXh0Q29udGVudCA9IGU7XG4gICAgICBwcm9qZWN0Q29udGFpbmVyLmFwcGVuZENoaWxkKHByb2plY3REaXYpO1xuICAgICAgcHJvamVjdERpdi5hcHBlbmRDaGlsZChwcm9qZWN0TmFtZSk7XG4gICAgICBwcm9qZWN0TmFtZS5hcHBlbmRDaGlsZChlZGl0SWNvbik7XG4gICAgICBcbiAgICAgIHRvRG9TdHVmZi50b0Rvcy5mb3JFYWNoKCh0KSA9PiB7XG4gICAgICAgIGlmICh0LnByb2plY3ROYW1lID09PSBlKSB7XG4gICAgICAgICAgY29uc3QgdG9Eb0l0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICB0b0RvSXRlbS5jbGFzc0xpc3QuYWRkKCd0by1kby1pdGVtJyk7XG4gICAgICAgICAgY29uc3QgdG9Eb05hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgICAgdG9Eb05hbWUudGV4dENvbnRlbnQgPSB0Lm5hbWU7XG4gICAgICAgICAgY29uc3QgdG9Eb1ByaW9yaXR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICAgIHRvRG9Qcmlvcml0eS50ZXh0Q29udGVudCA9IHQucHJpb3JpdHk7XG4gICAgICAgICAgY29uc3QgdG9Eb0RhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgICAgdG9Eb0RhdGUudGV4dENvbnRlbnQgPSB0LmRhdGU7XG4gICAgICAgICAgY29uc3QgZWRpdEljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgICAgZWRpdEljb24uY2xhc3NMaXN0LmFkZCAoJ21hdGVyaWFsLXN5bWJvbHMtcm91bmRlZCcsICdlZGl0Jyk7XG4gICAgICAgICAgZWRpdEljb24udGV4dENvbnRlbnQgPSAnZWRpdCc7XG4gICAgICAgICAgZWRpdEljb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBlZGl0QWN0aW9uKGBFZGl0IFRvIERvYCwgJ2VkaXQgdG9kbycsIGUpXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBwcm9qZWN0RGl2LmFwcGVuZENoaWxkKHRvRG9JdGVtKTtcbiAgICAgICAgICB0b0RvSXRlbS5hcHBlbmQodG9Eb05hbWUsIHRvRG9Qcmlvcml0eSwgdG9Eb0RhdGUsIGVkaXRJY29uKTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgY29uc3QgZWRpdEFjdGlvbiA9IChtc2csIHR5cGUsIG5hbWUpID0+IHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbmFtZScpLnZhbHVlID0gbmFtZTtcbiAgICBidG5BY3Rpb25zLnNob3dGb3JtKG1zZywgdHlwZSwgbmFtZSk7XG4gIH1cblxuICAvLyBjb25zdCBkaXNwbGF5TmVzdGVkVG9kb3MgPSAocHJvamVjdE5hbWUsIHRvZG8pID0+IHtcbiAgLy8gICBjb25zdCBuZXdUb2RvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAvLyAgIG5ld1RvZG8udGV4dENvbnRlbnQgPSB0b2RvO1xuICAvLyAgIHByb2plY3ROYW1lLmFwcGVuZENoaWxkKHRvZG8pO1xuICAvLyB9XG4gIC8vIGNvbnN0IGNyZWF0ZVByb2plY3RBcnJheSA9ICgpID0+IHtcbiAgLy8gICBwcm9qZWN0TGlzdC5mb3JFYWNoKChlKSA9PiB7XG4gIC8vICAgICBlID0gW107XG4gIC8vICAgICBjb25zb2xlLmxvZyhlKTtcbiAgLy8gICB9KVxuICAvLyB9XG5cbiAgLy9wcm9qZWN0IGZhY3RvcnkgZnVuY3Rpb25cbiAgY29uc3QgY3JlYXRlUHJvamVjdCA9IChuYW1lKSA9PiB7XG4gICAgcHJvamVjdExpc3QucHVzaChuYW1lKTtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInByb2plY3RMaXN0XCIsIEpTT04uc3RyaW5naWZ5KHByb2plY3RMaXN0KSk7XG5cbiAgICBwb3B1bGF0ZVByb2plY3REcm9wRG93bigpO1xuICAgIGRpc3BsYXlQcm9qZWN0KCk7XG4gICAgLy8gY3JlYXRlUHJvamVjdEFycmF5KCk7XG4gIH1cblxuICBjb25zdCB1cGRhdGVQcm9qZWN0ID0gKGN1cnJlbnROYW1lLCBuZXdOYW1lKSA9PiB7XG4gICAgY29uc29sZS5sb2coY3VycmVudE5hbWUsIG5ld05hbWUpO1xuICAgIGxldCBpbmRleCA9IHByb2plY3RMaXN0LmluZGV4T2YoY3VycmVudE5hbWUpO1xuICAgIHByb2plY3RMaXN0W2luZGV4XSA9IG5ld05hbWU7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJwcm9qZWN0TGlzdFwiLCBKU09OLnN0cmluZ2lmeShwcm9qZWN0TGlzdCkpO1xuICAgIGRpc3BsYXlQcm9qZWN0KCk7XG4gICAgcG9wdWxhdGVQcm9qZWN0RHJvcERvd24oKTtcbiAgfVxuICAgICAgXG4gIGRpc3BsYXlQcm9qZWN0KCk7XG4gIHBvcHVsYXRlUHJvamVjdERyb3BEb3duKCk7XG4gIFxuICByZXR1cm4ge2NyZWF0ZVByb2plY3QsIHByb2plY3RMaXN0LCB1cGRhdGVQcm9qZWN0LCBkaXNwbGF5UHJvamVjdH1cbn0pKCk7IiwiaW1wb3J0IHsgcHJvamVjdFN0dWZmIH0gZnJvbSBcIi4vcHJvamVjdHNcIjtcbmltcG9ydCB7IHRvRG9TdHVmZiB9IGZyb20gXCIuL3RvZG9zXCI7XG5cbmV4cG9ydCBjb25zdCBidG5BY3Rpb25zID0gKCgpID0+IHtcbiAgY29uc3QgdG9kb0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZGQtdG9kbycpO1xuICBjb25zdCBwcm9qZWN0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFkZC1wcm9qZWN0Jyk7XG4gIGNvbnN0IGZvcm1NZXNzYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Zvcm0tbWVzc2FnZScpO1xuICBjb25zdCBmb3JtQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm0tY29udGFpbmVyJyk7XG4gIGNvbnN0IHByb2plY3RDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdC1jb250YWluZXInKTtcbiAgXG4gIGNvbnN0IGRhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZGF0ZScpO1xuICBjb25zdCBwcmlvcml0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcmlvcml0eScpO1xuICBjb25zdCBwcm9qZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3Qtc2VsZWN0Jyk7XG4gIGNvbnN0IHN1Ym1pdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zdWJtaXQtYnRuJyk7XG5cbiAgY29uc3Qgc2hvd0Zvcm0gPSAobXNnLCB0eXBlLCBjdXJyZW50TmFtZSkgPT4ge1xuICAgIHRvZG9CdG4uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgcHJvamVjdEJ0bi5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICBwcm9qZWN0Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIGZvcm1NZXNzYWdlLnRleHRDb250ZW50ID0gbXNnO1xuICAgIGZvcm1Db250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgaWYgKHR5cGUgPT09ICd0b2RvJykge1xuICAgICAgZGF0ZS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIHByaW9yaXR5LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgcHJvamVjdC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIHN1Ym1pdEJ0bi50ZXh0Q29udGVudCA9IFwiQWRkIE5ldyBUb2RvXCI7XG4gICAgICAgLy9zdWJtaXQgdG9kbyBmb3JtIGFuZCBjbGVhciBmaWVsZHNcbiAgICAgIHN1Ym1pdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdG9Eb1N0dWZmLmNyZWF0ZVRvZG8oZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI25hbWUnKS52YWx1ZSwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2RhdGUnKS52YWx1ZSwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3ByaW9yaXR5JykudmFsdWUsIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwcm9qZWN0JykudmFsdWUpO1xuICAgICAgICBoaWRlRm9ybSgndG9kbycpO1xuICAgICAgfSwge29uY2U6IHRydWV9KVxuICAgIH0gaWYgKHR5cGUgPT09ICdwcm9qZWN0Jykge1xuICAgICAgZGF0ZS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIHByaW9yaXR5LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgcHJvamVjdC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIHN1Ym1pdEJ0bi50ZXh0Q29udGVudCA9IFwiQWRkIE5ldyBQcm9qZWN0XCI7XG4gICAgICBzdWJtaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHByb2plY3RTdHVmZi5jcmVhdGVQcm9qZWN0KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNuYW1lJykudmFsdWUpO1xuICAgICAgICBoaWRlRm9ybSgpO1xuICAgICAgfSwge29uY2U6IHRydWV9KTtcbiAgICB9IGlmICh0eXBlID09PSAnZWRpdCBwcm9qZWN0Jykge1xuICAgICAgZGF0ZS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIHByaW9yaXR5LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgcHJvamVjdC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIHN1Ym1pdEJ0bi50ZXh0Q29udGVudCA9IFwiVXBkYXRlXCI7XG4gICAgICBzdWJtaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHByb2plY3RTdHVmZi51cGRhdGVQcm9qZWN0KGN1cnJlbnROYW1lLCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbmFtZScpLnZhbHVlKTtcbiAgICAgICAgaGlkZUZvcm0oKTtcbiAgICAgIH0sIHtvbmNlOiB0cnVlfSk7XG4gICAgfSBpZiAodHlwZSA9PT0gJ2VkaXQgdG9kbycpIHtcbiAgICAgIGRhdGUuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBwcmlvcml0eS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIHByb2plY3QuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBzdWJtaXRCdG4udGV4dENvbnRlbnQgPSBcIlVwZGF0ZVwiO1xuICAgICAgc3VibWl0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBwcm9qZWN0U3R1ZmYudXBkYXRlUHJvamVjdChjdXJyZW50TmFtZSwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI25hbWUnKS52YWx1ZSk7XG4gICAgICAgIGhpZGVGb3JtKCk7XG4gICAgICB9LCB7b25jZTogdHJ1ZX0pO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGhpZGVGb3JtID0gKCkgPT4ge1xuICAgIHRvZG9CdG4uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgcHJvamVjdEJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICBmb3JtTWVzc2FnZS50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgZm9ybUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICBwcm9qZWN0Q29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgIC8vcmVzZXQgcHJpb3JpdHkgYW5kIHByb2plY3RcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJpb3JpdHknKS5zZWxlY3RlZEluZGV4ID0gMDtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJvamVjdCcpLnNlbGVjdGVkSW5kZXggPSAwO1xuICAgIC8vcmVzZXQgaW5wdXRzXG4gICAgbGV0IGlucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0Jyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnB1dHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlucHV0c1tpXS52YWx1ZSA9IFwiXCI7XG4gICAgfVxuICB9XG5cbiAgLy9hZGQgdG9kbyBidXR0b24gc2hvdyBmb3JtXG4gIHRvZG9CdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgc2hvd0Zvcm0oJ0FkZCBUby1kbycsICd0b2RvJyk7XG4gIH0pO1xuXG4gIC8vY3JlYXRlIHByb2plY3QgYnV0dG9uIHNob3cgZm9ybVxuICBwcm9qZWN0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHNob3dGb3JtKCdDcmVhdGUgUHJvamVjdCcsICdwcm9qZWN0Jyk7XG4gIH0pXG5cblxuICBcbiAgXG4gIHJldHVybiB7c2hvd0Zvcm0sIGhpZGVGb3JtfVxufSkoKTtcblxuICAiXSwibmFtZXMiOlsidG9Eb1N0dWZmIiwidG9Eb3MiLCJKU09OIiwicGFyc2UiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiY3JlYXRlVG9kbyIsIm5hbWUiLCJkYXRlIiwicHJpb3JpdHkiLCJwcm9qZWN0TmFtZSIsInRvRG8iLCJwdXNoIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsInByb2plY3RTdHVmZiIsImRpc3BsYXlQcm9qZWN0IiwiYXR0YWNoVG9Qcm9qZWN0IiwicHJvamVjdExpc3QiLCJmb3JFYWNoIiwiZSIsInByb2plY3RBcnJheSIsImNvbnNvbGUiLCJsb2ciLCJjcmVhdGVQcm9qZWN0IiwicG9wdWxhdGVQcm9qZWN0RHJvcERvd24iLCJwcm9qZWN0U2VsZWN0IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImlubmVySFRNTCIsInByb2plY3RPcHRpb24iLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwiY2xhc3NMaXN0IiwiYWRkIiwidGV4dENvbnRlbnQiLCJhcHBlbmRDaGlsZCIsInByb2plY3RDb250YWluZXIiLCJxdWVyeVNlbGVjdG9yIiwiY2xhc3NOYW1lIiwicmVwbGFjZSIsInRvTG93ZXJDYXNlIiwicHJvamVjdERpdiIsImVkaXRJY29uIiwiYWRkRXZlbnRMaXN0ZW5lciIsImVkaXRBY3Rpb24iLCJ0IiwidG9Eb0l0ZW0iLCJ0b0RvTmFtZSIsInRvRG9Qcmlvcml0eSIsInRvRG9EYXRlIiwiYXBwZW5kIiwibXNnIiwidHlwZSIsInZhbHVlIiwiYnRuQWN0aW9ucyIsInNob3dGb3JtIiwidXBkYXRlUHJvamVjdCIsImN1cnJlbnROYW1lIiwibmV3TmFtZSIsImluZGV4IiwiaW5kZXhPZiIsInRvZG9CdG4iLCJwcm9qZWN0QnRuIiwiZm9ybU1lc3NhZ2UiLCJmb3JtQ29udGFpbmVyIiwicHJvamVjdCIsInN1Ym1pdEJ0biIsInJlbW92ZSIsInByZXZlbnREZWZhdWx0IiwiaGlkZUZvcm0iLCJvbmNlIiwic2VsZWN0ZWRJbmRleCIsImlucHV0cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpIiwibGVuZ3RoIl0sInNvdXJjZVJvb3QiOiIifQ==