(()=>{"use strict";const e=(()=>{const e=[],d=(e,t,d)=>{const n=document.getElementById("project");if("new"===t){const t=document.createElement("option");t.setAttribute("value",e),t.classList.add("project-option"),t.textContent=e,n.appendChild(t)}if("edit"===t){const t=document.querySelectorAll(".project-option");t[d].textContent=e,t[d].setAttribute("value",e)}},n=(e,t,d)=>{if("new"===t){const t=document.querySelector(".project-container"),d=document.createElement("h2");d.classList.add("project-name");const n=document.createElement("span");n.classList.add("material-symbols-rounded","edit"),n.textContent="edit",n.addEventListener("click",(()=>{o("Edit Project Name","edit project",e)})),d.textContent=e,t.appendChild(d),d.appendChild(n)}if("edit"===t){const t=document.querySelectorAll(".project-name");t[d].textContent=e;const n=document.createElement("span");n.classList.add("material-symbols-rounded","edit"),n.textContent="edit",n.addEventListener("click",(()=>{o("Edit Project Name","edit project",e)})),t[d].appendChild(n)}},o=(e,d,n)=>{document.querySelector("#name").value=n,t.showForm(e,d,n)},c=t=>{e.push(t),d(t,"new"),n(t,"new")};return c("Personal"),{createProject:c,projectList:e,updateProject:(t,o)=>{console.log(t,o);let c=e.indexOf(t);e[c]=o,n(o,"edit",c),d(o,"edit",c)}}})(),t=(()=>{const t=document.querySelector(".add-todo"),d=document.querySelector(".add-project"),n=document.querySelector("#form-message"),o=document.querySelector(".form-container"),c=document.querySelector(".description"),s=document.querySelector(".date"),r=document.querySelector(".priority"),i=document.querySelector(".project-select"),a=document.querySelector(".project-btn"),l=document.querySelector(".todo-btn"),u=(u,p,L)=>{t.classList.add("hidden"),d.classList.add("hidden"),n.textContent=u,o.classList.remove("hidden"),"todo"===p&&(s.classList.remove("hidden"),r.classList.remove("hidden"),i.classList.remove("hidden"),l.classList.remove("hidden"),a.classList.add("hidden")),"project"===p&&(c.classList.add("hidden"),s.classList.add("hidden"),r.classList.add("hidden"),i.classList.add("hidden"),l.classList.add("hidden"),a.classList.remove("hidden"),a.addEventListener("click",(t=>{t.preventDefault(),e.createProject(document.querySelector("#name").value),m()}),{once:!0})),"edit project"===p&&(c.classList.add("hidden"),s.classList.add("hidden"),r.classList.add("hidden"),i.classList.add("hidden"),l.classList.add("hidden"),a.classList.remove("hidden"),a.textContent="Update",a.addEventListener("click",(t=>{t.preventDefault(),e.updateProject(L,document.querySelector("#name").value),m()}),{once:!0}))},m=()=>{t.classList.remove("hidden"),d.classList.remove("hidden"),n.textContent="",o.classList.add("hidden"),document.querySelector("#priority").selectedIndex=0,document.querySelector("#project").selectedIndex=0;let e=document.querySelectorAll("input");for(let t=0;t<e.length;t++)e[t].value=""};return t.addEventListener("click",(()=>{u("Add To-do","todo")})),d.addEventListener("click",(()=>{u("Create Project","project")})),l.addEventListener("click",(e=>{e.preventDefault(),m("todo")})),{showForm:u,hideForm:m}})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVM3QyxTQUFTUyxpQkFBaUIsU0FDdkMsSUFBSyxJQUFJcUMsRUFBSSxFQUFHQSxFQUFJRCxFQUFPRSxPQUFRRCxJQUNqQ0QsRUFBT0MsR0FBRzVCLE1BQVEsRUFDcEIsRUE2QkYsT0F6QkFXLEVBQVFkLGlCQUFpQixTQUFTLEtBQ2hDSyxFQUFTLFlBQWEsT0FBTyxJQUkvQlUsRUFBV2YsaUJBQWlCLFNBQVMsS0FDbkNLLEVBQVMsaUJBQWtCLFVBQVUsSUFJdkNrQixFQUFjdkIsaUJBQWlCLFNBQVV5QixJQUN2Q0EsRUFBRUMsaUJBQ0FDLEVBQVMsT0FBTyxJQWFiLENBQUN0QixXQUFVc0IsV0FFbkIsRUE5RnlCLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90by1kb3MvLi9zcmMvcHJvamVjdHMuanMiLCJ3ZWJwYWNrOi8vdG8tZG9zLy4vc3JjL2J0bi1hY3Rpb25zLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGJ0bkFjdGlvbnMgfSBmcm9tIFwiLi9idG4tYWN0aW9uc1wiO1xuXG5leHBvcnQgY29uc3QgcHJvamVjdFN0dWZmID0gKCgpID0+IHtcbiAgY29uc3QgcHJvamVjdExpc3QgPSBbXTtcbiAgXG4gIC8vYWRkIHByb2plY3QgdG8gZHJvcC1kb3duXG4gIGNvbnN0IHBvcHVsYXRlUHJvamVjdERyb3BEb3duID0gKG5hbWUsIHR5cGUsIGluZGV4KSA9PiB7XG4gICAgY29uc3QgcHJvamVjdFNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0Jyk7XG4gICAgaWYgKHR5cGUgPT09ICduZXcnKSB7XG4gICAgY29uc3QgcHJvamVjdE9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgIHByb2plY3RPcHRpb24uc2V0QXR0cmlidXRlKCd2YWx1ZScsIG5hbWUpO1xuICAgIHByb2plY3RPcHRpb24uY2xhc3NMaXN0LmFkZCgncHJvamVjdC1vcHRpb24nKTtcbiAgICBwcm9qZWN0T3B0aW9uLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICBwcm9qZWN0U2VsZWN0LmFwcGVuZENoaWxkKHByb2plY3RPcHRpb24pO1xuICAgIH1cbiAgICBpZiAodHlwZSA9PT0gJ2VkaXQnKSB7XG4gICAgICBjb25zdCBwcm9qZWN0T3B0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnByb2plY3Qtb3B0aW9uJyk7XG4gICAgICBwcm9qZWN0T3B0aW9uW2luZGV4XS50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgICBwcm9qZWN0T3B0aW9uW2luZGV4XS5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgbmFtZSk7XG4gICAgfVxuICB9XG5cbiAgLy9zaG93IHByb2plY3QgbmFtZSBvbiBwYWdlXG4gIGNvbnN0IGRpc3BsYXlQcm9qZWN0ID0gKG5hbWUsIHR5cGUsIGluZGV4KSA9PiB7XG4gICAgaWYgKHR5cGUgPT09IFwibmV3XCIpIHtcbiAgICAgIGNvbnN0IHByb2plY3RDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdC1jb250YWluZXInKTtcbiAgICAgIGNvbnN0IHByb2plY3ROYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDInKTtcbiAgICAgIHByb2plY3ROYW1lLmNsYXNzTGlzdC5hZGQoJ3Byb2plY3QtbmFtZScpO1xuICAgICAgY29uc3QgZWRpdEljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICBlZGl0SWNvbi5jbGFzc0xpc3QuYWRkICgnbWF0ZXJpYWwtc3ltYm9scy1yb3VuZGVkJywgJ2VkaXQnKTtcbiAgICAgIGVkaXRJY29uLnRleHRDb250ZW50ID0gJ2VkaXQnO1xuICAgICAgZWRpdEljb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGVkaXRBY3Rpb24oYEVkaXQgUHJvamVjdCBOYW1lYCwgJ2VkaXQgcHJvamVjdCcsIG5hbWUpXG4gICAgICB9KTtcbiAgICAgIHByb2plY3ROYW1lLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICAgIHByb2plY3RDb250YWluZXIuYXBwZW5kQ2hpbGQocHJvamVjdE5hbWUpO1xuICAgICAgcHJvamVjdE5hbWUuYXBwZW5kQ2hpbGQoZWRpdEljb24pO1xuICAgIH1cbiAgICBpZiAodHlwZSA9PT0gXCJlZGl0XCIpIHtcbiAgICAgIGNvbnN0IHByb2plY3ROYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnByb2plY3QtbmFtZScpO1xuICAgICAgcHJvamVjdE5hbWVbaW5kZXhdLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICAgIGNvbnN0IGVkaXRJY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgZWRpdEljb24uY2xhc3NMaXN0LmFkZCAoJ21hdGVyaWFsLXN5bWJvbHMtcm91bmRlZCcsICdlZGl0Jyk7XG4gICAgICBlZGl0SWNvbi50ZXh0Q29udGVudCA9ICdlZGl0JztcbiAgICAgIGVkaXRJY29uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBlZGl0QWN0aW9uKGBFZGl0IFByb2plY3QgTmFtZWAsICdlZGl0IHByb2plY3QnLCBuYW1lKVxuICAgICAgfSk7XG4gICAgICBwcm9qZWN0TmFtZVtpbmRleF0uYXBwZW5kQ2hpbGQoZWRpdEljb24pO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGVkaXRBY3Rpb24gPSAobXNnLCB0eXBlLCBuYW1lKSA9PiB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI25hbWUnKS52YWx1ZSA9IG5hbWU7XG4gICAgYnRuQWN0aW9ucy5zaG93Rm9ybShtc2csIHR5cGUsIG5hbWUpO1xuICB9XG5cbiAgLy8gY29uc3QgZGlzcGxheU5lc3RlZFRvZG9zID0gKHByb2plY3ROYW1lLCB0b2RvKSA9PiB7XG4gIC8vICAgY29uc3QgbmV3VG9kbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgLy8gICBuZXdUb2RvLnRleHRDb250ZW50ID0gdG9kbztcbiAgLy8gICBwcm9qZWN0TmFtZS5hcHBlbmRDaGlsZCh0b2RvKTtcbiAgLy8gfVxuXG4gIC8vcHJvamVjdCBmYWN0b3J5IGZ1bmN0aW9uXG4gIGNvbnN0IGNyZWF0ZVByb2plY3QgPSAobmFtZSkgPT4ge1xuICAgIHByb2plY3RMaXN0LnB1c2gobmFtZSk7XG4gICAgcG9wdWxhdGVQcm9qZWN0RHJvcERvd24obmFtZSwgJ25ldycpO1xuICAgIGRpc3BsYXlQcm9qZWN0KG5hbWUsICduZXcnKTtcbiAgfVxuXG4gIGNvbnN0IHVwZGF0ZVByb2plY3QgPSAoY3VycmVudE5hbWUsIG5ld05hbWUpID0+IHtcbiAgICBjb25zb2xlLmxvZyhjdXJyZW50TmFtZSwgbmV3TmFtZSk7XG4gICAgbGV0IGluZGV4ID0gcHJvamVjdExpc3QuaW5kZXhPZihjdXJyZW50TmFtZSk7XG4gICAgcHJvamVjdExpc3RbaW5kZXhdID0gbmV3TmFtZTtcbiAgICBkaXNwbGF5UHJvamVjdChuZXdOYW1lLCAnZWRpdCcsIGluZGV4KTtcbiAgICBwb3B1bGF0ZVByb2plY3REcm9wRG93bihuZXdOYW1lLCAnZWRpdCcsIGluZGV4KTtcbiAgfVxuXG4gIC8vY3JlYXRlIGRlZmF1bHQgcHJvamVjdFxuICBjcmVhdGVQcm9qZWN0KCdQZXJzb25hbCcpO1xuXG4gIHJldHVybiB7Y3JlYXRlUHJvamVjdCwgcHJvamVjdExpc3QsIHVwZGF0ZVByb2plY3R9XG59KSgpOyIsImltcG9ydCB7IHByb2plY3RTdHVmZiB9IGZyb20gXCIuL3Byb2plY3RzXCI7XG5cbmV4cG9ydCBjb25zdCBidG5BY3Rpb25zID0gKCgpID0+IHtcbiAgY29uc3QgdG9kb0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZGQtdG9kbycpO1xuICBjb25zdCBwcm9qZWN0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFkZC1wcm9qZWN0Jyk7XG4gIGNvbnN0IGZvcm1NZXNzYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Zvcm0tbWVzc2FnZScpO1xuICBjb25zdCBmb3JtQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm0tY29udGFpbmVyJyk7XG4gIGNvbnN0IGRlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRlc2NyaXB0aW9uJyk7XG4gIGNvbnN0IGRhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZGF0ZScpO1xuICBjb25zdCBwcmlvcml0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcmlvcml0eScpO1xuICBjb25zdCBwcm9qZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3Qtc2VsZWN0Jyk7XG4gIGNvbnN0IHByb2plY3RTdWJtaXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdC1idG4nKTtcbiAgY29uc3QgdG9kb1N1Ym1pdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b2RvLWJ0bicpO1xuXG4gIGNvbnN0IHNob3dGb3JtID0gKG1zZywgdHlwZSwgY3VycmVudE5hbWUpID0+IHtcbiAgICB0b2RvQnRuLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIHByb2plY3RCdG4uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgZm9ybU1lc3NhZ2UudGV4dENvbnRlbnQgPSBtc2c7XG4gICAgZm9ybUNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICBpZiAodHlwZSA9PT0gJ3RvZG8nKSB7XG4gICAgICBkYXRlLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgcHJpb3JpdHkuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBwcm9qZWN0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgdG9kb1N1Ym1pdEJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIHByb2plY3RTdWJtaXRCdG4uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgfSBpZiAodHlwZSA9PT0gJ3Byb2plY3QnKSB7XG4gICAgICBkZXNjcmlwdGlvbi5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRhdGUuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBwcmlvcml0eS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIHByb2plY3QuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICB0b2RvU3VibWl0QnRuLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgcHJvamVjdFN1Ym1pdEJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIHByb2plY3RTdWJtaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHByb2plY3RTdHVmZi5jcmVhdGVQcm9qZWN0KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNuYW1lJykudmFsdWUpO1xuICAgICAgICBoaWRlRm9ybSgpO1xuICAgICAgfSwge29uY2U6IHRydWV9KTtcbiAgICB9IGlmICh0eXBlID09PSAnZWRpdCBwcm9qZWN0Jykge1xuICAgICAgZGVzY3JpcHRpb24uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkYXRlLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgcHJpb3JpdHkuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBwcm9qZWN0LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgdG9kb1N1Ym1pdEJ0bi5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIHByb2plY3RTdWJtaXRCdG4uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBwcm9qZWN0U3VibWl0QnRuLnRleHRDb250ZW50ID0gXCJVcGRhdGVcIjtcbiAgICAgIHByb2plY3RTdWJtaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHByb2plY3RTdHVmZi51cGRhdGVQcm9qZWN0KGN1cnJlbnROYW1lLCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbmFtZScpLnZhbHVlKTtcbiAgICAgICAgaGlkZUZvcm0oKTtcbiAgICAgIH0sIHtvbmNlOiB0cnVlfSk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgaGlkZUZvcm0gPSAoKSA9PiB7XG4gICAgdG9kb0J0bi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICBwcm9qZWN0QnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgIGZvcm1NZXNzYWdlLnRleHRDb250ZW50ID0gXCJcIjtcbiAgICBmb3JtQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIC8vcmVzZXQgcHJpb3JpdHkgYW5kIHByb2plY3RcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJpb3JpdHknKS5zZWxlY3RlZEluZGV4ID0gMDtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJvamVjdCcpLnNlbGVjdGVkSW5kZXggPSAwO1xuICAgIC8vcmVzZXQgaW5wdXRzXG4gICAgbGV0IGlucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0Jyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnB1dHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlucHV0c1tpXS52YWx1ZSA9IFwiXCI7XG4gICAgfVxuICB9XG5cbiAgLy9hZGQgdG9kbyBidXR0b24gc2hvdyBmb3JtXG4gIHRvZG9CdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgc2hvd0Zvcm0oJ0FkZCBUby1kbycsICd0b2RvJyk7XG4gIH0pO1xuXG4gIC8vY3JlYXRlIHByb2plY3QgYnV0dG9uIHNob3cgZm9ybVxuICBwcm9qZWN0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHNob3dGb3JtKCdDcmVhdGUgUHJvamVjdCcsICdwcm9qZWN0Jyk7XG4gIH0pXG5cbiAgLy9zdWJtaXQgdG9kbyBmb3JtIGFuZCBjbGVhciBmaWVsZHNcbiAgdG9kb1N1Ym1pdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaGlkZUZvcm0oJ3RvZG8nKTtcbiAgfSlcblxuXG4gIC8vc3VibWl0IHByb2plY3QgZm9ybSBhbmQgY2xlYXIgZmllbGRzXG4gIFxuICAgIC8vIGlmIChwcm9qZWN0U3R1ZmYucHJvamVjdExpc3QuaW5jbHVkZXMoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25hbWUnKS52YWx1ZSkpIHtcbiAgICAvLyAgIGNvbnN0IGluZGV4ID0gcHJvamVjdFN0dWZmLnByb2plY3RMaXN0LmZpbmRJbmRleChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbmFtZScpLnZhbHVlKTtcbiAgICAvLyAgIHByb2plY3RTdHVmZi5wcm9qZWN0TGlzdFtpbmRleF0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbmFtZScpLnZhbHVlO1xuICAgIC8vICAgcHJvamVjdFN0dWZmLnVwZGF0ZVByb2plY3QoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI25hbWUnKS52YWx1ZSk7XG4gICAgLy8gfVxuICAgIFxuXG4gIHJldHVybiB7c2hvd0Zvcm0sIGhpZGVGb3JtfVxuXG59KSgpO1xuXG4vLyBjb25zdCB0b2RvID0gKG5hbWUsIGRlc2NyaXB0aW9uLCBkYXRlLCBwcmlvcml0eSwgcHJvamVjdE5hbWUpID0+IHtcbi8vICAgcmV0dXJuIHtuYW1lLCBkZXNjcmlwdGlvbiwgZGF0ZSwgcHJpb3JpdHksIHByb2plY3ROYW1lfTtcbi8vIH0iXSwibmFtZXMiOlsicHJvamVjdFN0dWZmIiwicHJvamVjdExpc3QiLCJwb3B1bGF0ZVByb2plY3REcm9wRG93biIsIm5hbWUiLCJ0eXBlIiwiaW5kZXgiLCJwcm9qZWN0U2VsZWN0IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInByb2plY3RPcHRpb24iLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwiY2xhc3NMaXN0IiwiYWRkIiwidGV4dENvbnRlbnQiLCJhcHBlbmRDaGlsZCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJkaXNwbGF5UHJvamVjdCIsInByb2plY3RDb250YWluZXIiLCJxdWVyeVNlbGVjdG9yIiwicHJvamVjdE5hbWUiLCJlZGl0SWNvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJlZGl0QWN0aW9uIiwibXNnIiwidmFsdWUiLCJidG5BY3Rpb25zIiwic2hvd0Zvcm0iLCJjcmVhdGVQcm9qZWN0IiwicHVzaCIsInVwZGF0ZVByb2plY3QiLCJjdXJyZW50TmFtZSIsIm5ld05hbWUiLCJjb25zb2xlIiwibG9nIiwiaW5kZXhPZiIsInRvZG9CdG4iLCJwcm9qZWN0QnRuIiwiZm9ybU1lc3NhZ2UiLCJmb3JtQ29udGFpbmVyIiwiZGVzY3JpcHRpb24iLCJkYXRlIiwicHJpb3JpdHkiLCJwcm9qZWN0IiwicHJvamVjdFN1Ym1pdEJ0biIsInRvZG9TdWJtaXRCdG4iLCJyZW1vdmUiLCJlIiwicHJldmVudERlZmF1bHQiLCJoaWRlRm9ybSIsIm9uY2UiLCJzZWxlY3RlZEluZGV4IiwiaW5wdXRzIiwiaSIsImxlbmd0aCJdLCJzb3VyY2VSb290IjoiIn0=