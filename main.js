(()=>{"use strict";const e=(()=>{const e=[],d=(e,t,d)=>{const o=document.getElementById("project");if("new"===t){const t=document.createElement("option");t.setAttribute("value",e),t.classList.add("project-option"),t.textContent=e,o.appendChild(t)}if("edit"===t){const t=document.querySelectorAll(".project-option");t[d].textContent=e,t[d].setAttribute("value",e)}},o=(e,t,d)=>{if("new"===t){const t=document.querySelector(".project-container"),d=document.createElement("h2");d.classList.add("project-name");const o=document.createElement("span");o.classList.add("material-symbols-rounded","edit"),o.textContent="edit",o.addEventListener("click",(()=>{n("Edit Project Name","edit project",e)})),d.textContent=e,t.appendChild(d),d.appendChild(o)}if("edit"===t){const t=document.querySelectorAll(".project-name");t[d].textContent=e;const o=document.createElement("span");o.classList.add("material-symbols-rounded","edit"),o.textContent="edit",o.addEventListener("click",(()=>{n("Edit Project Name","edit project",e)})),t[d].appendChild(o)}},n=(e,d,o)=>{document.querySelector("#name").value=o,t.showForm(e,d,o)},c=t=>{e.push(t),d(t,"new"),o(t,"new")};return c("Personal"),{createProject:c,projectList:e,updateProject:(t,n)=>{console.log(t,n);let c=e.indexOf(t);e[c]=n,o(n,"edit",c),d(n,"edit",c)}}})(),t=(()=>{const t=document.querySelector(".add-todo"),o=document.querySelector(".add-project"),n=document.querySelector("#form-message"),c=document.querySelector(".form-container"),r=document.querySelector(".date"),s=document.querySelector(".priority"),a=document.querySelector(".project-select"),l=document.querySelector(".submit-btn"),i=(i,m,p)=>{t.classList.add("hidden"),o.classList.add("hidden"),n.textContent=i,c.classList.remove("hidden"),"todo"===m&&(r.classList.remove("hidden"),s.classList.remove("hidden"),a.classList.remove("hidden"),l.textContent="Add New Todo",l.addEventListener("click",(e=>{e.preventDefault(),d(document.querySelector("#name").value,document.querySelector("#date").value,document.querySelector("#priority").value,document.querySelector("#project").value),u("todo")}))),"project"===m&&(r.classList.add("hidden"),s.classList.add("hidden"),a.classList.add("hidden"),l.textContent="Add New Project",l.addEventListener("click",(t=>{t.preventDefault(),e.createProject(document.querySelector("#name").value),u()}),{once:!0})),"edit project"===m&&(r.classList.add("hidden"),s.classList.add("hidden"),a.classList.add("hidden"),l.textContent="Update",l.addEventListener("click",(t=>{t.preventDefault(),e.updateProject(p,document.querySelector("#name").value),u()}),{once:!0}))},u=()=>{t.classList.remove("hidden"),o.classList.remove("hidden"),n.textContent="",c.classList.add("hidden"),document.querySelector("#priority").selectedIndex=0,document.querySelector("#project").selectedIndex=0;let e=document.querySelectorAll("input");for(let t=0;t<e.length;t++)e[t].value=""};return t.addEventListener("click",(()=>{i("Add To-do","todo")})),o.addEventListener("click",(()=>{i("Create Project","project")})),{showForm:i,hideForm:u}})(),d=(e,t,d,n)=>{let c=[],r={name:e,date:t,priority:d,projectName:n};return c.push(r),console.log(c[0]),o(r),c},o=t=>{e.projectList.forEach((e=>{t.projectName===e&&console.log(e,t.name)}))}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNqQ0QsRUFBT0MsR0FBRzNCLE1BQVEsRUFDcEIsRUFlRixPQVhBVyxFQUFRZCxpQkFBaUIsU0FBUyxLQUNoQ0ssRUFBUyxZQUFhLE9BQU8sSUFJL0JVLEVBQVdmLGlCQUFpQixTQUFTLEtBQ25DSyxFQUFTLGlCQUFrQixVQUFVLElBS2hDLENBQUNBLFdBQVVxQixXQUVuQixFQS9FeUIsR0FpRnBCRCxFQUFhLENBQUM1QyxFQUFNcUMsRUFBTUMsRUFBVXJCLEtBQ3hDLElBQUlrQyxFQUFRLEdBQ1JDLEVBQU8sQ0FBQ3BELE9BQU1xQyxPQUFNQyxXQUFVckIsZUFLbEMsT0FKQWtDLEVBQU16QixLQUFLMEIsR0FDWHRCLFFBQVFDLElBQUlvQixFQUFNLElBQ2xCRSxFQUFnQkQsR0FFVEQsQ0FBSyxFQUdSRSxFQUFtQkQsSUFDdkJ2RCxFQUFhQyxZQUFZd0QsU0FBU1osSUFDNUJVLEVBQUtuQyxjQUFnQnlCLEdBQ3ZCWixRQUFRQyxJQUFJVyxFQUFHVSxFQUFLcEQsS0FDdEIsR0FDRCxDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG8tZG9zLy4vc3JjL3Byb2plY3RzLmpzIiwid2VicGFjazovL3RvLWRvcy8uL3NyYy9idG4tYWN0aW9ucy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBidG5BY3Rpb25zIH0gZnJvbSBcIi4vYnRuLWFjdGlvbnNcIjtcblxuZXhwb3J0IGNvbnN0IHByb2plY3RTdHVmZiA9ICgoKSA9PiB7XG4gIGNvbnN0IHByb2plY3RMaXN0ID0gW107XG4gIFxuICAvL2FkZCBwcm9qZWN0IHRvIGRyb3AtZG93blxuICBjb25zdCBwb3B1bGF0ZVByb2plY3REcm9wRG93biA9IChuYW1lLCB0eXBlLCBpbmRleCkgPT4ge1xuICAgIGNvbnN0IHByb2plY3RTZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvamVjdCcpO1xuICAgIGlmICh0eXBlID09PSAnbmV3Jykge1xuICAgIGNvbnN0IHByb2plY3RPcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICBwcm9qZWN0T3B0aW9uLnNldEF0dHJpYnV0ZSgndmFsdWUnLCBuYW1lKTtcbiAgICBwcm9qZWN0T3B0aW9uLmNsYXNzTGlzdC5hZGQoJ3Byb2plY3Qtb3B0aW9uJyk7XG4gICAgcHJvamVjdE9wdGlvbi50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgcHJvamVjdFNlbGVjdC5hcHBlbmRDaGlsZChwcm9qZWN0T3B0aW9uKTtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT09ICdlZGl0Jykge1xuICAgICAgY29uc3QgcHJvamVjdE9wdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9qZWN0LW9wdGlvbicpO1xuICAgICAgcHJvamVjdE9wdGlvbltpbmRleF0udGV4dENvbnRlbnQgPSBuYW1lO1xuICAgICAgcHJvamVjdE9wdGlvbltpbmRleF0uc2V0QXR0cmlidXRlKCd2YWx1ZScsIG5hbWUpO1xuICAgIH1cbiAgfVxuXG4gIC8vc2hvdyBwcm9qZWN0IG5hbWUgb24gcGFnZVxuICBjb25zdCBkaXNwbGF5UHJvamVjdCA9IChuYW1lLCB0eXBlLCBpbmRleCkgPT4ge1xuICAgIGlmICh0eXBlID09PSBcIm5ld1wiKSB7XG4gICAgICBjb25zdCBwcm9qZWN0Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3QtY29udGFpbmVyJyk7XG4gICAgICBjb25zdCBwcm9qZWN0TmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gyJyk7XG4gICAgICBwcm9qZWN0TmFtZS5jbGFzc0xpc3QuYWRkKCdwcm9qZWN0LW5hbWUnKTtcbiAgICAgIGNvbnN0IGVkaXRJY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgZWRpdEljb24uY2xhc3NMaXN0LmFkZCAoJ21hdGVyaWFsLXN5bWJvbHMtcm91bmRlZCcsICdlZGl0Jyk7XG4gICAgICBlZGl0SWNvbi50ZXh0Q29udGVudCA9ICdlZGl0JztcbiAgICAgIGVkaXRJY29uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBlZGl0QWN0aW9uKGBFZGl0IFByb2plY3QgTmFtZWAsICdlZGl0IHByb2plY3QnLCBuYW1lKVxuICAgICAgfSk7XG4gICAgICBwcm9qZWN0TmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgICBwcm9qZWN0Q29udGFpbmVyLmFwcGVuZENoaWxkKHByb2plY3ROYW1lKTtcbiAgICAgIHByb2plY3ROYW1lLmFwcGVuZENoaWxkKGVkaXRJY29uKTtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT09IFwiZWRpdFwiKSB7XG4gICAgICBjb25zdCBwcm9qZWN0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9qZWN0LW5hbWUnKTtcbiAgICAgIHByb2plY3ROYW1lW2luZGV4XS50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgICBjb25zdCBlZGl0SWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgIGVkaXRJY29uLmNsYXNzTGlzdC5hZGQgKCdtYXRlcmlhbC1zeW1ib2xzLXJvdW5kZWQnLCAnZWRpdCcpO1xuICAgICAgZWRpdEljb24udGV4dENvbnRlbnQgPSAnZWRpdCc7XG4gICAgICBlZGl0SWNvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgZWRpdEFjdGlvbihgRWRpdCBQcm9qZWN0IE5hbWVgLCAnZWRpdCBwcm9qZWN0JywgbmFtZSlcbiAgICAgIH0pO1xuICAgICAgcHJvamVjdE5hbWVbaW5kZXhdLmFwcGVuZENoaWxkKGVkaXRJY29uKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBlZGl0QWN0aW9uID0gKG1zZywgdHlwZSwgbmFtZSkgPT4ge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNuYW1lJykudmFsdWUgPSBuYW1lO1xuICAgIGJ0bkFjdGlvbnMuc2hvd0Zvcm0obXNnLCB0eXBlLCBuYW1lKTtcbiAgfVxuXG4gIC8vIGNvbnN0IGRpc3BsYXlOZXN0ZWRUb2RvcyA9IChwcm9qZWN0TmFtZSwgdG9kbykgPT4ge1xuICAvLyAgIGNvbnN0IG5ld1RvZG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gIC8vICAgbmV3VG9kby50ZXh0Q29udGVudCA9IHRvZG87XG4gIC8vICAgcHJvamVjdE5hbWUuYXBwZW5kQ2hpbGQodG9kbyk7XG4gIC8vIH1cblxuICAvL3Byb2plY3QgZmFjdG9yeSBmdW5jdGlvblxuICBjb25zdCBjcmVhdGVQcm9qZWN0ID0gKG5hbWUpID0+IHtcbiAgICBwcm9qZWN0TGlzdC5wdXNoKG5hbWUpO1xuICAgIHBvcHVsYXRlUHJvamVjdERyb3BEb3duKG5hbWUsICduZXcnKTtcbiAgICBkaXNwbGF5UHJvamVjdChuYW1lLCAnbmV3Jyk7XG4gIH1cblxuICBjb25zdCB1cGRhdGVQcm9qZWN0ID0gKGN1cnJlbnROYW1lLCBuZXdOYW1lKSA9PiB7XG4gICAgY29uc29sZS5sb2coY3VycmVudE5hbWUsIG5ld05hbWUpO1xuICAgIGxldCBpbmRleCA9IHByb2plY3RMaXN0LmluZGV4T2YoY3VycmVudE5hbWUpO1xuICAgIHByb2plY3RMaXN0W2luZGV4XSA9IG5ld05hbWU7XG4gICAgZGlzcGxheVByb2plY3QobmV3TmFtZSwgJ2VkaXQnLCBpbmRleCk7XG4gICAgcG9wdWxhdGVQcm9qZWN0RHJvcERvd24obmV3TmFtZSwgJ2VkaXQnLCBpbmRleCk7XG4gIH1cblxuICAvL2NyZWF0ZSBkZWZhdWx0IHByb2plY3RcbiAgY3JlYXRlUHJvamVjdCgnUGVyc29uYWwnKTtcblxuICByZXR1cm4ge2NyZWF0ZVByb2plY3QsIHByb2plY3RMaXN0LCB1cGRhdGVQcm9qZWN0fVxufSkoKTsiLCJpbXBvcnQgeyBwcm9qZWN0U3R1ZmYgfSBmcm9tIFwiLi9wcm9qZWN0c1wiO1xuXG5leHBvcnQgY29uc3QgYnRuQWN0aW9ucyA9ICgoKSA9PiB7XG4gIGNvbnN0IHRvZG9CdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWRkLXRvZG8nKTtcbiAgY29uc3QgcHJvamVjdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZGQtcHJvamVjdCcpO1xuICBjb25zdCBmb3JtTWVzc2FnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmb3JtLW1lc3NhZ2UnKTtcbiAgY29uc3QgZm9ybUNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtLWNvbnRhaW5lcicpO1xuICBcbiAgY29uc3QgZGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kYXRlJyk7XG4gIGNvbnN0IHByaW9yaXR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByaW9yaXR5Jyk7XG4gIGNvbnN0IHByb2plY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdC1zZWxlY3QnKTtcbiAgY29uc3Qgc3VibWl0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN1Ym1pdC1idG4nKTtcblxuICBjb25zdCBzaG93Rm9ybSA9IChtc2csIHR5cGUsIGN1cnJlbnROYW1lKSA9PiB7XG4gICAgdG9kb0J0bi5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICBwcm9qZWN0QnRuLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIGZvcm1NZXNzYWdlLnRleHRDb250ZW50ID0gbXNnO1xuICAgIGZvcm1Db250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgaWYgKHR5cGUgPT09ICd0b2RvJykge1xuICAgICAgZGF0ZS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIHByaW9yaXR5LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgcHJvamVjdC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIHN1Ym1pdEJ0bi50ZXh0Q29udGVudCA9IFwiQWRkIE5ldyBUb2RvXCI7XG4gICAgICAgLy9zdWJtaXQgdG9kbyBmb3JtIGFuZCBjbGVhciBmaWVsZHNcbiAgICAgIHN1Ym1pdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY3JlYXRlVG9kbyhkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbmFtZScpLnZhbHVlLCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZGF0ZScpLnZhbHVlLCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJpb3JpdHknKS52YWx1ZSwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Byb2plY3QnKS52YWx1ZSk7XG4gICAgICAgIGhpZGVGb3JtKCd0b2RvJyk7XG4gICAgICB9KVxuICAgIH0gaWYgKHR5cGUgPT09ICdwcm9qZWN0Jykge1xuICAgICAgZGF0ZS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIHByaW9yaXR5LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgcHJvamVjdC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIHN1Ym1pdEJ0bi50ZXh0Q29udGVudCA9IFwiQWRkIE5ldyBQcm9qZWN0XCI7XG4gICAgICBzdWJtaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHByb2plY3RTdHVmZi5jcmVhdGVQcm9qZWN0KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNuYW1lJykudmFsdWUpO1xuICAgICAgICBoaWRlRm9ybSgpO1xuICAgICAgfSwge29uY2U6IHRydWV9KTtcbiAgICB9IGlmICh0eXBlID09PSAnZWRpdCBwcm9qZWN0Jykge1xuICAgICAgZGF0ZS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIHByaW9yaXR5LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgcHJvamVjdC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIHN1Ym1pdEJ0bi50ZXh0Q29udGVudCA9IFwiVXBkYXRlXCI7XG4gICAgICBzdWJtaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHByb2plY3RTdHVmZi51cGRhdGVQcm9qZWN0KGN1cnJlbnROYW1lLCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbmFtZScpLnZhbHVlKTtcbiAgICAgICAgaGlkZUZvcm0oKTtcbiAgICAgIH0sIHtvbmNlOiB0cnVlfSk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgaGlkZUZvcm0gPSAoKSA9PiB7XG4gICAgdG9kb0J0bi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICBwcm9qZWN0QnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgIGZvcm1NZXNzYWdlLnRleHRDb250ZW50ID0gXCJcIjtcbiAgICBmb3JtQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIC8vcmVzZXQgcHJpb3JpdHkgYW5kIHByb2plY3RcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJpb3JpdHknKS5zZWxlY3RlZEluZGV4ID0gMDtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJvamVjdCcpLnNlbGVjdGVkSW5kZXggPSAwO1xuICAgIC8vcmVzZXQgaW5wdXRzXG4gICAgbGV0IGlucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0Jyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnB1dHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlucHV0c1tpXS52YWx1ZSA9IFwiXCI7XG4gICAgfVxuICB9XG5cbiAgLy9hZGQgdG9kbyBidXR0b24gc2hvdyBmb3JtXG4gIHRvZG9CdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgc2hvd0Zvcm0oJ0FkZCBUby1kbycsICd0b2RvJyk7XG4gIH0pO1xuXG4gIC8vY3JlYXRlIHByb2plY3QgYnV0dG9uIHNob3cgZm9ybVxuICBwcm9qZWN0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHNob3dGb3JtKCdDcmVhdGUgUHJvamVjdCcsICdwcm9qZWN0Jyk7XG4gIH0pXG5cbiBcblxuICByZXR1cm4ge3Nob3dGb3JtLCBoaWRlRm9ybX1cblxufSkoKTtcblxuY29uc3QgY3JlYXRlVG9kbyA9IChuYW1lLCBkYXRlLCBwcmlvcml0eSwgcHJvamVjdE5hbWUpID0+IHtcbiAgbGV0IHRvZG9zID0gW107XG4gIGxldCB0b2RvID0ge25hbWUsIGRhdGUsIHByaW9yaXR5LCBwcm9qZWN0TmFtZX07XG4gIHRvZG9zLnB1c2godG9kbyk7XG4gIGNvbnNvbGUubG9nKHRvZG9zWzBdKTtcbiAgYXR0YWNoVG9Qcm9qZWN0KHRvZG8pO1xuXG4gIHJldHVybiB0b2Rvcztcbn1cblxuY29uc3QgYXR0YWNoVG9Qcm9qZWN0ID0gKHRvZG8pID0+IHtcbiAgcHJvamVjdFN0dWZmLnByb2plY3RMaXN0LmZvckVhY2goKGUpID0+IHtcbiAgICBpZiAodG9kby5wcm9qZWN0TmFtZSA9PT0gZSkge1xuICAgICAgY29uc29sZS5sb2coZSwgdG9kby5uYW1lKTtcbiAgICB9XG4gIH0pXG4gIFxufSJdLCJuYW1lcyI6WyJwcm9qZWN0U3R1ZmYiLCJwcm9qZWN0TGlzdCIsInBvcHVsYXRlUHJvamVjdERyb3BEb3duIiwibmFtZSIsInR5cGUiLCJpbmRleCIsInByb2plY3RTZWxlY3QiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwicHJvamVjdE9wdGlvbiIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJjbGFzc0xpc3QiLCJhZGQiLCJ0ZXh0Q29udGVudCIsImFwcGVuZENoaWxkIiwicXVlcnlTZWxlY3RvckFsbCIsImRpc3BsYXlQcm9qZWN0IiwicHJvamVjdENvbnRhaW5lciIsInF1ZXJ5U2VsZWN0b3IiLCJwcm9qZWN0TmFtZSIsImVkaXRJY29uIiwiYWRkRXZlbnRMaXN0ZW5lciIsImVkaXRBY3Rpb24iLCJtc2ciLCJ2YWx1ZSIsImJ0bkFjdGlvbnMiLCJzaG93Rm9ybSIsImNyZWF0ZVByb2plY3QiLCJwdXNoIiwidXBkYXRlUHJvamVjdCIsImN1cnJlbnROYW1lIiwibmV3TmFtZSIsImNvbnNvbGUiLCJsb2ciLCJpbmRleE9mIiwidG9kb0J0biIsInByb2plY3RCdG4iLCJmb3JtTWVzc2FnZSIsImZvcm1Db250YWluZXIiLCJkYXRlIiwicHJpb3JpdHkiLCJwcm9qZWN0Iiwic3VibWl0QnRuIiwicmVtb3ZlIiwiZSIsInByZXZlbnREZWZhdWx0IiwiY3JlYXRlVG9kbyIsImhpZGVGb3JtIiwib25jZSIsInNlbGVjdGVkSW5kZXgiLCJpbnB1dHMiLCJpIiwibGVuZ3RoIiwidG9kb3MiLCJ0b2RvIiwiYXR0YWNoVG9Qcm9qZWN0IiwiZm9yRWFjaCJdLCJzb3VyY2VSb290IjoiIn0=